<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Displaying Tables With reactable</title>

<script src="site_libs/header-attrs-2.6/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-16.12.0/react.min.js"></script>
<script src="site_libs/react-16.12.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="site_libs/reactable-binding-0.2.3/reactable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">bmRn R Training</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Lessons and exercises</a>
</li>
<li>
  <a href="slides.html">Slides</a>
</li>
<li>
  <a href="more-resources.html">More resources</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Displaying Tables With reactable</h1>

</div>


<div id="objectives" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Objectives</h1>
<p>This section is an introduction displaying data in tables with <a href="https://glin.github.io/reactable/"><code>reactable</code></a> in your R Markdown reports.</p>
</div>
<div id="resources" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Resources</h1>
<p>Be sure to check out the previous section on <a href="https://mjfrigaard.github.io/bmrn-tutorials/bk02_subsetting-flow-control.html">flow control statements</a>.</p>
<p><em>Slides</em>: this is an extra lesson, so there aren’t currently slides available (yet!)</p>
<p><em>RStudio.Cloud</em>: this is an extra lesson, so there isn’t an RStudio.Cloud project (yet!)</p>
</div>
<div id="packages" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Packages</h1>
<p>We’ll be covering the <a href="https://glin.github.io/reactable/"><code>reactable</code></a> package for displaying tables in R Markdown.</p>
<pre class="r"><code>library(tidyverse)
library(gt)
library(reactable)
library(DT)</code></pre>
</div>
<div id="yahoo-finance-data" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Yahoo finance data</h1>
<p>We’re going to be returning to stock data for this section. Stock (or quant) data is typically presented on the web or in a dashboard, so it’s great for demonstrating the capabilities of R table packages.</p>
<p><img src="img/yahoo-table.png" width="997" /></p>
<p>Here is the source for the dataset above: <a href="https://finance.yahoo.com/u/yahoo-finance/watchlists/biotech-and-drug-stocks" class="uri">https://finance.yahoo.com/u/yahoo-finance/watchlists/biotech-and-drug-stocks</a></p>
<p>I imported these data using the <a href="https://github.com/MilesMcBain/datapasta"><code>datapasta</code></a> package on 2020-12-24.</p>
<pre class="r fold-hide"><code>tibble::tribble(
     ~Symbol,                           ~Company.Name, ~Last.Price, ~Change, ~`%.Change`,   ~Market.Time,   ~Volume, ~`Avg.Vol.(3.month)`, ~Market.Cap,
       &quot;JNJ&quot;,                     &quot;Johnson &amp; Johnson&quot;,      152.47,    0.53,    &quot;+0.35%&quot;,  &quot;1:00 PM EST&quot;,   &quot;2.09M&quot;,              &quot;7.19M&quot;,   &quot;401.38B&quot;,
     &quot;RHHBY&quot;,                      &quot;Roche Holding AG&quot;,       42.55,    0.06,    &quot;+0.14%&quot;,  &quot;1:00 PM EST&quot;, &quot;721.67k&quot;,              &quot;1.33M&quot;,   &quot;290.62B&quot;,
       &quot;PFE&quot;,                           &quot;Pfizer Inc.&quot;,       37.27,   -0.17,    &quot;-0.45%&quot;,  &quot;1:02 PM EST&quot;,  &quot;14.64M&quot;,             &quot;43.28M&quot;,   &quot;207.16B&quot;,
       &quot;MRK&quot;,                     &quot;Merck &amp; Co., Inc.&quot;,       80.14,    0.38,    &quot;+0.48%&quot;,  &quot;1:02 PM EST&quot;,   &quot;2.80M&quot;,              &quot;8.80M&quot;,   &quot;202.76B&quot;,
       &quot;NVS&quot;,                           &quot;Novartis AG&quot;,       88.55,    0.17,    &quot;+0.19%&quot;,  &quot;1:00 PM EST&quot;, &quot;557.24k&quot;,              &quot;1.90M&quot;,   &quot;201.65B&quot;,
      &quot;ABBV&quot;,                           &quot;AbbVie Inc.&quot;,      103.26,   -0.02,    &quot;-0.02%&quot;,  &quot;1:02 PM EST&quot;,   &quot;1.37M&quot;,              &quot;8.36M&quot;,   &quot;182.30B&quot;,
       &quot;NVO&quot;,                      &quot;Novo Nordisk A/S&quot;,       69.43,   -0.19,    &quot;-0.27%&quot;,  &quot;1:00 PM EST&quot;, &quot;277.20k&quot;,              &quot;1.14M&quot;,   &quot;160.92B&quot;,
       &quot;LLY&quot;,                 &quot;Eli Lilly and Company&quot;,      166.66,    1.18,    &quot;+0.71%&quot;,  &quot;1:02 PM EST&quot;, &quot;619.48k&quot;,              &quot;4.20M&quot;,   &quot;159.42B&quot;,
       &quot;BMY&quot;,          &quot;Bristol-Myers Squibb Company&quot;,       61.15,    0.15,    &quot;+0.25%&quot;,  &quot;1:00 PM EST&quot;,   &quot;3.07M&quot;,             &quot;10.59M&quot;,   &quot;138.18B&quot;,
      &quot;AMGN&quot;,                            &quot;Amgen Inc.&quot;,      222.93,   -0.01,    &quot;-0.00%&quot;,  &quot;1:00 PM EST&quot;, &quot;912.39k&quot;,              &quot;2.62M&quot;,   &quot;129.78B&quot;,
       &quot;AZN&quot;,                       &quot;AstraZeneca PLC&quot;,       48.52,   -0.25,    &quot;-0.51%&quot;,  &quot;1:00 PM EST&quot;,   &quot;4.91M&quot;,              &quot;7.64M&quot;,   &quot;126.37B&quot;,
       &quot;SNY&quot;,                                &quot;Sanofi&quot;,       47.45,   -0.13,    &quot;-0.27%&quot;,  &quot;1:00 PM EST&quot;, &quot;477.62k&quot;,              &quot;1.33M&quot;,   &quot;119.44B&quot;,
       &quot;GSK&quot;,                   &quot;GlaxoSmithKline plc&quot;,       36.14,   -0.09,    &quot;-0.25%&quot;,  &quot;1:00 PM EST&quot;,   &quot;1.29M&quot;,              &quot;4.95M&quot;,    &quot;91.21B&quot;,
     &quot;GLAXF&quot;,                   &quot;GlaxoSmithKline plc&quot;,       17.79,   -0.46,    &quot;-2.52%&quot;, &quot;12:07 PM EST&quot;,   &quot;1.34k&quot;,            &quot;253.49k&quot;,    &quot;88.83B&quot;,
       &quot;ZTS&quot;,                           &quot;Zoetis Inc.&quot;,      160.72,    0.87,    &quot;+0.54%&quot;,  &quot;1:03 PM EST&quot;, &quot;414.69k&quot;,              &quot;1.75M&quot;,    &quot;76.39B&quot;,
      &quot;GILD&quot;,                 &quot;Gilead Sciences, Inc.&quot;,       57.07,   -0.31,    &quot;-0.54%&quot;,  &quot;1:00 PM EST&quot;,   &quot;3.26M&quot;,              &quot;9.49M&quot;,    &quot;71.54B&quot;,
      &quot;VRTX&quot;,   &quot;Vertex Pharmaceuticals Incorporated&quot;,      234.46,   -1.38,    &quot;-0.59%&quot;,  &quot;1:00 PM EST&quot;, &quot;446.67k&quot;,              &quot;2.13M&quot;,    &quot;60.97B&quot;,
     &quot;BAYRY&quot;,              &quot;Bayer Aktiengesellschaft&quot;,       14.59,   -0.09,    &quot;-0.61%&quot;, &quot;12:59 PM EST&quot;, &quot;366.53k&quot;,            &quot;797.87k&quot;,    &quot;57.33B&quot;,
       &quot;TAK&quot;, &quot;Takeda Pharmaceutical Company Limited&quot;,       18.11,   -0.17,    &quot;-0.93%&quot;,  &quot;1:00 PM EST&quot;,   &quot;1.88M&quot;,              &quot;1.34M&quot;,    &quot;56.34B&quot;,
      &quot;REGN&quot;,       &quot;Regeneron Pharmaceuticals, Inc.&quot;,      488.93,   -3.26,    &quot;-0.66%&quot;,  &quot;1:00 PM EST&quot;, &quot;286.59k&quot;,              &quot;1.03M&quot;,    &quot;52.17B&quot;,
      &quot;MRNA&quot;,                         &quot;Moderna, Inc.&quot;,      123.39,   -6.95,    &quot;-5.33%&quot;,  &quot;1:00 PM EST&quot;,  &quot;12.51M&quot;,             &quot;19.64M&quot;,    &quot;48.83B&quot;,
      &quot;BIIB&quot;,                           &quot;Biogen Inc.&quot;,      248.89,   -2.31,    &quot;-0.92%&quot;,  &quot;1:00 PM EST&quot;, &quot;444.89k&quot;,              &quot;1.65M&quot;,    &quot;38.30B&quot;,
      &quot;SGEN&quot;,                           &quot;Seagen Inc.&quot;,      190.61,   -0.58,    &quot;-0.30%&quot;,  &quot;1:00 PM EST&quot;, &quot;246.96k&quot;,            &quot;921.99k&quot;,    &quot;34.12B&quot;,
      &quot;ALXN&quot;,         &quot;Alexion Pharmaceuticals, Inc.&quot;,      152.63,   -0.61,    &quot;-0.40%&quot;,  &quot;1:00 PM EST&quot;,   &quot;1.07M&quot;,              &quot;2.38M&quot;,    &quot;33.38B&quot;,
      &quot;RPRX&quot;,                    &quot;Royalty Pharma plc&quot;,        48.9,    0.29,    &quot;+0.60%&quot;,  &quot;1:00 PM EST&quot;,   &quot;1.58M&quot;,              &quot;2.12M&quot;,    &quot;30.57B&quot;,
      &quot;GMAB&quot;,                            &quot;Genmab A/S&quot;,       39.11,    0.02,    &quot;+0.05%&quot;,  &quot;1:00 PM EST&quot;,  &quot;96.45k&quot;,            &quot;504.87k&quot;,    &quot;25.61B&quot;,
      &quot;BGNE&quot;,                         &quot;BeiGene, Ltd.&quot;,      263.72,   -0.14,    &quot;-0.05%&quot;,  &quot;1:00 PM EST&quot;,  &quot;77.94k&quot;,            &quot;399.97k&quot;,    &quot;23.74B&quot;,
      &quot;BNTX&quot;,                           &quot;BioNTech SE&quot;,       96.96,    -3.1,    &quot;-3.10%&quot;,  &quot;1:00 PM EST&quot;,   &quot;1.03M&quot;,              &quot;3.94M&quot;,    &quot;23.35B&quot;,
      &quot;VTRS&quot;,                          &quot;Viatris Inc.&quot;,       17.77,   -0.11,    &quot;-0.62%&quot;,  &quot;1:00 PM EST&quot;,   &quot;1.93M&quot;,             &quot;11.64M&quot;,    &quot;21.36B&quot;,
      &quot;INCY&quot;,                    &quot;Incyte Corporation&quot;,       87.37,   -0.56,    &quot;-0.64%&quot;,  &quot;1:00 PM EST&quot;, &quot;177.61k&quot;,              &quot;1.15M&quot;,    &quot;19.13B&quot;) -&gt; BioTechStocksPaste
# clean names and export
BioTechStocksPaste %&gt;% 
  janitor::clean_names() %&gt;% 
  readr::write_csv(x = ., file = &quot;data/2020-12-24-BioTechStocks.csv&quot;)</code></pre>
<div id="example-summary-table" class="section level2 tabset" number="4.1">
<h2 class="tabset" number="4.1"><span class="header-section-number">4.1</span> Example summary table</h2>
<p>These data have already been formatted in a way that is great for displaying in a table, but would pose problems if we tried to visualize them in R. For example, the <code>percent_change</code>-<code>market_cap</code> columns have symbols that cause them to be read into R as characters. We would need to wrangle these data quite a bit to get them into a format we could use.</p>
<pre class="r"><code>BioTechStocksRaw &lt;- read_csv(&quot;data/2020-12-24-BioTechStocks.csv&quot;)
BioTechStocksRaw</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["chr"],"align":["left"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["chr"],"align":["left"]},{"label":["avg_vol_3_month"],"name":[8],"type":["chr"],"align":["left"]},{"label":["market_cap"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"+0.35%","6":"1:00 PM EST","7":"2.09M","8":"7.19M","9":"401.38B"},{"1":"RHHBY","2":"Roche Holding AG","3":"42.55","4":"0.06","5":"+0.14%","6":"1:00 PM EST","7":"721.67k","8":"1.33M","9":"290.62B"},{"1":"PFE","2":"Pfizer Inc.","3":"37.27","4":"-0.17","5":"-0.45%","6":"1:02 PM EST","7":"14.64M","8":"43.28M","9":"207.16B"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"+0.48%","6":"1:02 PM EST","7":"2.80M","8":"8.80M","9":"202.76B"},{"1":"NVS","2":"Novartis AG","3":"88.55","4":"0.17","5":"+0.19%","6":"1:00 PM EST","7":"557.24k","8":"1.90M","9":"201.65B"},{"1":"ABBV","2":"AbbVie Inc.","3":"103.26","4":"-0.02","5":"-0.02%","6":"1:02 PM EST","7":"1.37M","8":"8.36M","9":"182.30B"},{"1":"NVO","2":"Novo Nordisk A/S","3":"69.43","4":"-0.19","5":"-0.27%","6":"1:00 PM EST","7":"277.20k","8":"1.14M","9":"160.92B"},{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"+0.71%","6":"1:02 PM EST","7":"619.48k","8":"4.20M","9":"159.42B"},{"1":"BMY","2":"Bristol-Myers Squibb Company","3":"61.15","4":"0.15","5":"+0.25%","6":"1:00 PM EST","7":"3.07M","8":"10.59M","9":"138.18B"},{"1":"AMGN","2":"Amgen Inc.","3":"222.93","4":"-0.01","5":"-0.00%","6":"1:00 PM EST","7":"912.39k","8":"2.62M","9":"129.78B"},{"1":"AZN","2":"AstraZeneca PLC","3":"48.52","4":"-0.25","5":"-0.51%","6":"1:00 PM EST","7":"4.91M","8":"7.64M","9":"126.37B"},{"1":"SNY","2":"Sanofi","3":"47.45","4":"-0.13","5":"-0.27%","6":"1:00 PM EST","7":"477.62k","8":"1.33M","9":"119.44B"},{"1":"GSK","2":"GlaxoSmithKline plc","3":"36.14","4":"-0.09","5":"-0.25%","6":"1:00 PM EST","7":"1.29M","8":"4.95M","9":"91.21B"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52%","6":"12:07 PM EST","7":"1.34k","8":"253.49k","9":"88.83B"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"+0.54%","6":"1:03 PM EST","7":"414.69k","8":"1.75M","9":"76.39B"},{"1":"GILD","2":"Gilead Sciences, Inc.","3":"57.07","4":"-0.31","5":"-0.54%","6":"1:00 PM EST","7":"3.26M","8":"9.49M","9":"71.54B"},{"1":"VRTX","2":"Vertex Pharmaceuticals Incorporated","3":"234.46","4":"-1.38","5":"-0.59%","6":"1:00 PM EST","7":"446.67k","8":"2.13M","9":"60.97B"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61%","6":"12:59 PM EST","7":"366.53k","8":"797.87k","9":"57.33B"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93%","6":"1:00 PM EST","7":"1.88M","8":"1.34M","9":"56.34B"},{"1":"REGN","2":"Regeneron Pharmaceuticals, Inc.","3":"488.93","4":"-3.26","5":"-0.66%","6":"1:00 PM EST","7":"286.59k","8":"1.03M","9":"52.17B"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33%","6":"1:00 PM EST","7":"12.51M","8":"19.64M","9":"48.83B"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92%","6":"1:00 PM EST","7":"444.89k","8":"1.65M","9":"38.30B"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30%","6":"1:00 PM EST","7":"246.96k","8":"921.99k","9":"34.12B"},{"1":"ALXN","2":"Alexion Pharmaceuticals, Inc.","3":"152.63","4":"-0.61","5":"-0.40%","6":"1:00 PM EST","7":"1.07M","8":"2.38M","9":"33.38B"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"+0.60%","6":"1:00 PM EST","7":"1.58M","8":"2.12M","9":"30.57B"},{"1":"GMAB","2":"Genmab A/S","3":"39.11","4":"0.02","5":"+0.05%","6":"1:00 PM EST","7":"96.45k","8":"504.87k","9":"25.61B"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05%","6":"1:00 PM EST","7":"77.94k","8":"399.97k","9":"23.74B"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10%","6":"1:00 PM EST","7":"1.03M","8":"3.94M","9":"23.35B"},{"1":"VTRS","2":"Viatris Inc.","3":"17.77","4":"-0.11","5":"-0.62%","6":"1:00 PM EST","7":"1.93M","8":"11.64M","9":"21.36B"},{"1":"INCY","2":"Incyte Corporation","3":"87.37","4":"-0.56","5":"-0.64%","6":"1:00 PM EST","7":"177.61k","8":"1.15M","9":"19.13B"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="str_remove_all" class="section level3" number="4.1.1">
<h3 number="4.1.1"><span class="header-section-number">4.1.1</span> <code>str_remove_all()</code></h3>
<p>The first step to get these data into a format we can use is to remove the <code>+</code> symbol from the <code>change</code> variable, then convert it to a numerical value (this will result in some missing values).</p>
<pre class="r"><code>BioTechStocksRaw %&gt;%
  mutate(
    # change numeric
    change = str_remove_all(string = change, pattern = &quot;^\\+&quot;),
    change = as.numeric(change, na.rm = TRUE)
  )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["chr"],"align":["left"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["chr"],"align":["left"]},{"label":["avg_vol_3_month"],"name":[8],"type":["chr"],"align":["left"]},{"label":["market_cap"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"+0.35%","6":"1:00 PM EST","7":"2.09M","8":"7.19M","9":"401.38B"},{"1":"RHHBY","2":"Roche Holding AG","3":"42.55","4":"0.06","5":"+0.14%","6":"1:00 PM EST","7":"721.67k","8":"1.33M","9":"290.62B"},{"1":"PFE","2":"Pfizer Inc.","3":"37.27","4":"-0.17","5":"-0.45%","6":"1:02 PM EST","7":"14.64M","8":"43.28M","9":"207.16B"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"+0.48%","6":"1:02 PM EST","7":"2.80M","8":"8.80M","9":"202.76B"},{"1":"NVS","2":"Novartis AG","3":"88.55","4":"0.17","5":"+0.19%","6":"1:00 PM EST","7":"557.24k","8":"1.90M","9":"201.65B"},{"1":"ABBV","2":"AbbVie Inc.","3":"103.26","4":"-0.02","5":"-0.02%","6":"1:02 PM EST","7":"1.37M","8":"8.36M","9":"182.30B"},{"1":"NVO","2":"Novo Nordisk A/S","3":"69.43","4":"-0.19","5":"-0.27%","6":"1:00 PM EST","7":"277.20k","8":"1.14M","9":"160.92B"},{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"+0.71%","6":"1:02 PM EST","7":"619.48k","8":"4.20M","9":"159.42B"},{"1":"BMY","2":"Bristol-Myers Squibb Company","3":"61.15","4":"0.15","5":"+0.25%","6":"1:00 PM EST","7":"3.07M","8":"10.59M","9":"138.18B"},{"1":"AMGN","2":"Amgen Inc.","3":"222.93","4":"-0.01","5":"-0.00%","6":"1:00 PM EST","7":"912.39k","8":"2.62M","9":"129.78B"},{"1":"AZN","2":"AstraZeneca PLC","3":"48.52","4":"-0.25","5":"-0.51%","6":"1:00 PM EST","7":"4.91M","8":"7.64M","9":"126.37B"},{"1":"SNY","2":"Sanofi","3":"47.45","4":"-0.13","5":"-0.27%","6":"1:00 PM EST","7":"477.62k","8":"1.33M","9":"119.44B"},{"1":"GSK","2":"GlaxoSmithKline plc","3":"36.14","4":"-0.09","5":"-0.25%","6":"1:00 PM EST","7":"1.29M","8":"4.95M","9":"91.21B"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52%","6":"12:07 PM EST","7":"1.34k","8":"253.49k","9":"88.83B"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"+0.54%","6":"1:03 PM EST","7":"414.69k","8":"1.75M","9":"76.39B"},{"1":"GILD","2":"Gilead Sciences, Inc.","3":"57.07","4":"-0.31","5":"-0.54%","6":"1:00 PM EST","7":"3.26M","8":"9.49M","9":"71.54B"},{"1":"VRTX","2":"Vertex Pharmaceuticals Incorporated","3":"234.46","4":"-1.38","5":"-0.59%","6":"1:00 PM EST","7":"446.67k","8":"2.13M","9":"60.97B"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61%","6":"12:59 PM EST","7":"366.53k","8":"797.87k","9":"57.33B"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93%","6":"1:00 PM EST","7":"1.88M","8":"1.34M","9":"56.34B"},{"1":"REGN","2":"Regeneron Pharmaceuticals, Inc.","3":"488.93","4":"-3.26","5":"-0.66%","6":"1:00 PM EST","7":"286.59k","8":"1.03M","9":"52.17B"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33%","6":"1:00 PM EST","7":"12.51M","8":"19.64M","9":"48.83B"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92%","6":"1:00 PM EST","7":"444.89k","8":"1.65M","9":"38.30B"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30%","6":"1:00 PM EST","7":"246.96k","8":"921.99k","9":"34.12B"},{"1":"ALXN","2":"Alexion Pharmaceuticals, Inc.","3":"152.63","4":"-0.61","5":"-0.40%","6":"1:00 PM EST","7":"1.07M","8":"2.38M","9":"33.38B"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"+0.60%","6":"1:00 PM EST","7":"1.58M","8":"2.12M","9":"30.57B"},{"1":"GMAB","2":"Genmab A/S","3":"39.11","4":"0.02","5":"+0.05%","6":"1:00 PM EST","7":"96.45k","8":"504.87k","9":"25.61B"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05%","6":"1:00 PM EST","7":"77.94k","8":"399.97k","9":"23.74B"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10%","6":"1:00 PM EST","7":"1.03M","8":"3.94M","9":"23.35B"},{"1":"VTRS","2":"Viatris Inc.","3":"17.77","4":"-0.11","5":"-0.62%","6":"1:00 PM EST","7":"1.93M","8":"11.64M","9":"21.36B"},{"1":"INCY","2":"Incyte Corporation","3":"87.37","4":"-0.56","5":"-0.64%","6":"1:00 PM EST","7":"177.61k","8":"1.15M","9":"19.13B"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Next we want to remove the <code>+</code> and <code>%</code> from the <code>percent_change</code> column, and convert this to a numerical value.</p>
<pre class="r"><code>BioTechStocksRaw %&gt;%
  mutate(
    # change numeric
    change = str_remove_all(string = change, pattern = &quot;^\\+&quot;),
    change = as.numeric(change, na.rm = TRUE),
    # percent change
    percent_change = str_remove_all(string = percent_change, pattern = &quot;^\\+&quot;),
    percent_change = str_remove_all(string = percent_change, pattern = &quot;\\%&quot;),
    percent_change = as.numeric(percent_change, na.rm = TRUE)
  )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["chr"],"align":["left"]},{"label":["avg_vol_3_month"],"name":[8],"type":["chr"],"align":["left"]},{"label":["market_cap"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"0.35","6":"1:00 PM EST","7":"2.09M","8":"7.19M","9":"401.38B"},{"1":"RHHBY","2":"Roche Holding AG","3":"42.55","4":"0.06","5":"0.14","6":"1:00 PM EST","7":"721.67k","8":"1.33M","9":"290.62B"},{"1":"PFE","2":"Pfizer Inc.","3":"37.27","4":"-0.17","5":"-0.45","6":"1:02 PM EST","7":"14.64M","8":"43.28M","9":"207.16B"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"0.48","6":"1:02 PM EST","7":"2.80M","8":"8.80M","9":"202.76B"},{"1":"NVS","2":"Novartis AG","3":"88.55","4":"0.17","5":"0.19","6":"1:00 PM EST","7":"557.24k","8":"1.90M","9":"201.65B"},{"1":"ABBV","2":"AbbVie Inc.","3":"103.26","4":"-0.02","5":"-0.02","6":"1:02 PM EST","7":"1.37M","8":"8.36M","9":"182.30B"},{"1":"NVO","2":"Novo Nordisk A/S","3":"69.43","4":"-0.19","5":"-0.27","6":"1:00 PM EST","7":"277.20k","8":"1.14M","9":"160.92B"},{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"0.71","6":"1:02 PM EST","7":"619.48k","8":"4.20M","9":"159.42B"},{"1":"BMY","2":"Bristol-Myers Squibb Company","3":"61.15","4":"0.15","5":"0.25","6":"1:00 PM EST","7":"3.07M","8":"10.59M","9":"138.18B"},{"1":"AMGN","2":"Amgen Inc.","3":"222.93","4":"-0.01","5":"0.00","6":"1:00 PM EST","7":"912.39k","8":"2.62M","9":"129.78B"},{"1":"AZN","2":"AstraZeneca PLC","3":"48.52","4":"-0.25","5":"-0.51","6":"1:00 PM EST","7":"4.91M","8":"7.64M","9":"126.37B"},{"1":"SNY","2":"Sanofi","3":"47.45","4":"-0.13","5":"-0.27","6":"1:00 PM EST","7":"477.62k","8":"1.33M","9":"119.44B"},{"1":"GSK","2":"GlaxoSmithKline plc","3":"36.14","4":"-0.09","5":"-0.25","6":"1:00 PM EST","7":"1.29M","8":"4.95M","9":"91.21B"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52","6":"12:07 PM EST","7":"1.34k","8":"253.49k","9":"88.83B"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"0.54","6":"1:03 PM EST","7":"414.69k","8":"1.75M","9":"76.39B"},{"1":"GILD","2":"Gilead Sciences, Inc.","3":"57.07","4":"-0.31","5":"-0.54","6":"1:00 PM EST","7":"3.26M","8":"9.49M","9":"71.54B"},{"1":"VRTX","2":"Vertex Pharmaceuticals Incorporated","3":"234.46","4":"-1.38","5":"-0.59","6":"1:00 PM EST","7":"446.67k","8":"2.13M","9":"60.97B"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61","6":"12:59 PM EST","7":"366.53k","8":"797.87k","9":"57.33B"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93","6":"1:00 PM EST","7":"1.88M","8":"1.34M","9":"56.34B"},{"1":"REGN","2":"Regeneron Pharmaceuticals, Inc.","3":"488.93","4":"-3.26","5":"-0.66","6":"1:00 PM EST","7":"286.59k","8":"1.03M","9":"52.17B"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33","6":"1:00 PM EST","7":"12.51M","8":"19.64M","9":"48.83B"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92","6":"1:00 PM EST","7":"444.89k","8":"1.65M","9":"38.30B"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30","6":"1:00 PM EST","7":"246.96k","8":"921.99k","9":"34.12B"},{"1":"ALXN","2":"Alexion Pharmaceuticals, Inc.","3":"152.63","4":"-0.61","5":"-0.40","6":"1:00 PM EST","7":"1.07M","8":"2.38M","9":"33.38B"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"0.60","6":"1:00 PM EST","7":"1.58M","8":"2.12M","9":"30.57B"},{"1":"GMAB","2":"Genmab A/S","3":"39.11","4":"0.02","5":"0.05","6":"1:00 PM EST","7":"96.45k","8":"504.87k","9":"25.61B"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05","6":"1:00 PM EST","7":"77.94k","8":"399.97k","9":"23.74B"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10","6":"1:00 PM EST","7":"1.03M","8":"3.94M","9":"23.35B"},{"1":"VTRS","2":"Viatris Inc.","3":"17.77","4":"-0.11","5":"-0.62","6":"1:00 PM EST","7":"1.93M","8":"11.64M","9":"21.36B"},{"1":"INCY","2":"Incyte Corporation","3":"87.37","4":"-0.56","5":"-0.64","6":"1:00 PM EST","7":"177.61k","8":"1.15M","9":"19.13B"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The <code>volume</code> and <code>avg_vol_3_month</code> columns have two different characters <code>k</code> and <code>M</code> that will take some more advanced steps, so we’ll remove the <code>B</code> from <code>market_cap</code> first.</p>
<pre class="r"><code>BioTechStocksRaw %&gt;%
  mutate(
    # change numeric
    change = str_remove_all(string = change, pattern = &quot;^\\+&quot;),
    change = as.numeric(change, na.rm = TRUE),
    # percent change
    percent_change = str_remove_all(string = percent_change, pattern = &quot;^\\+&quot;),
    percent_change = str_remove_all(string = percent_change, pattern = &quot;\\%&quot;),
    percent_change = as.numeric(percent_change, na.rm = TRUE),
    # market cap
    market_cap = str_remove_all(string = market_cap, pattern = &quot;B&quot;),
    market_cap = as.numeric(market_cap, na.rm = TRUE)
  )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["chr"],"align":["left"]},{"label":["avg_vol_3_month"],"name":[8],"type":["chr"],"align":["left"]},{"label":["market_cap"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"0.35","6":"1:00 PM EST","7":"2.09M","8":"7.19M","9":"401.38"},{"1":"RHHBY","2":"Roche Holding AG","3":"42.55","4":"0.06","5":"0.14","6":"1:00 PM EST","7":"721.67k","8":"1.33M","9":"290.62"},{"1":"PFE","2":"Pfizer Inc.","3":"37.27","4":"-0.17","5":"-0.45","6":"1:02 PM EST","7":"14.64M","8":"43.28M","9":"207.16"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"0.48","6":"1:02 PM EST","7":"2.80M","8":"8.80M","9":"202.76"},{"1":"NVS","2":"Novartis AG","3":"88.55","4":"0.17","5":"0.19","6":"1:00 PM EST","7":"557.24k","8":"1.90M","9":"201.65"},{"1":"ABBV","2":"AbbVie Inc.","3":"103.26","4":"-0.02","5":"-0.02","6":"1:02 PM EST","7":"1.37M","8":"8.36M","9":"182.30"},{"1":"NVO","2":"Novo Nordisk A/S","3":"69.43","4":"-0.19","5":"-0.27","6":"1:00 PM EST","7":"277.20k","8":"1.14M","9":"160.92"},{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"0.71","6":"1:02 PM EST","7":"619.48k","8":"4.20M","9":"159.42"},{"1":"BMY","2":"Bristol-Myers Squibb Company","3":"61.15","4":"0.15","5":"0.25","6":"1:00 PM EST","7":"3.07M","8":"10.59M","9":"138.18"},{"1":"AMGN","2":"Amgen Inc.","3":"222.93","4":"-0.01","5":"0.00","6":"1:00 PM EST","7":"912.39k","8":"2.62M","9":"129.78"},{"1":"AZN","2":"AstraZeneca PLC","3":"48.52","4":"-0.25","5":"-0.51","6":"1:00 PM EST","7":"4.91M","8":"7.64M","9":"126.37"},{"1":"SNY","2":"Sanofi","3":"47.45","4":"-0.13","5":"-0.27","6":"1:00 PM EST","7":"477.62k","8":"1.33M","9":"119.44"},{"1":"GSK","2":"GlaxoSmithKline plc","3":"36.14","4":"-0.09","5":"-0.25","6":"1:00 PM EST","7":"1.29M","8":"4.95M","9":"91.21"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52","6":"12:07 PM EST","7":"1.34k","8":"253.49k","9":"88.83"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"0.54","6":"1:03 PM EST","7":"414.69k","8":"1.75M","9":"76.39"},{"1":"GILD","2":"Gilead Sciences, Inc.","3":"57.07","4":"-0.31","5":"-0.54","6":"1:00 PM EST","7":"3.26M","8":"9.49M","9":"71.54"},{"1":"VRTX","2":"Vertex Pharmaceuticals Incorporated","3":"234.46","4":"-1.38","5":"-0.59","6":"1:00 PM EST","7":"446.67k","8":"2.13M","9":"60.97"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61","6":"12:59 PM EST","7":"366.53k","8":"797.87k","9":"57.33"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93","6":"1:00 PM EST","7":"1.88M","8":"1.34M","9":"56.34"},{"1":"REGN","2":"Regeneron Pharmaceuticals, Inc.","3":"488.93","4":"-3.26","5":"-0.66","6":"1:00 PM EST","7":"286.59k","8":"1.03M","9":"52.17"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33","6":"1:00 PM EST","7":"12.51M","8":"19.64M","9":"48.83"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92","6":"1:00 PM EST","7":"444.89k","8":"1.65M","9":"38.30"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30","6":"1:00 PM EST","7":"246.96k","8":"921.99k","9":"34.12"},{"1":"ALXN","2":"Alexion Pharmaceuticals, Inc.","3":"152.63","4":"-0.61","5":"-0.40","6":"1:00 PM EST","7":"1.07M","8":"2.38M","9":"33.38"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"0.60","6":"1:00 PM EST","7":"1.58M","8":"2.12M","9":"30.57"},{"1":"GMAB","2":"Genmab A/S","3":"39.11","4":"0.02","5":"0.05","6":"1:00 PM EST","7":"96.45k","8":"504.87k","9":"25.61"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05","6":"1:00 PM EST","7":"77.94k","8":"399.97k","9":"23.74"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10","6":"1:00 PM EST","7":"1.03M","8":"3.94M","9":"23.35"},{"1":"VTRS","2":"Viatris Inc.","3":"17.77","4":"-0.11","5":"-0.62","6":"1:00 PM EST","7":"1.93M","8":"11.64M","9":"21.36"},{"1":"INCY","2":"Incyte Corporation","3":"87.37","4":"-0.56","5":"-0.64","6":"1:00 PM EST","7":"177.61k","8":"1.15M","9":"19.13"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="case_when" class="section level3" number="4.1.2">
<h3 number="4.1.2"><span class="header-section-number">4.1.2</span> <code>case_when()</code></h3>
<p>Now, to get the correct value in the <code>volume</code> and <code>avg_vol_3_month</code> columns, we’ll need to create a <code>key</code> variable for <code>k</code> and <code>M</code>, then we can use the <code>key</code>s to conditionally transform the values.</p>
<pre class="r"><code>BioTechStocksRaw %&gt;%
  mutate(
    # change numeric
    change = str_remove_all(string = change, pattern = &quot;^\\+&quot;),
    change = as.numeric(change, na.rm = TRUE),
    # percent change
    percent_change = str_remove_all(string = percent_change, pattern = &quot;^\\+&quot;),
    percent_change = str_remove_all(string = percent_change, pattern = &quot;\\%&quot;),
    percent_change = as.numeric(percent_change, na.rm = TRUE),
    # market cap
    market_cap = str_remove_all(string = market_cap, pattern = &quot;B&quot;),
    market_cap = as.numeric(market_cap, na.rm = TRUE),
    # volume key
    volume_key =
      case_when(
        str_detect(string = volume, pattern = &quot;k&quot;) ~ &quot;volume ($K)&quot;,
        str_detect(string = volume, pattern = &quot;M&quot;) ~ &quot;volume ($M)&quot;
      ),
    # identify k vs M in avg_vol_3_month
    avg_vol_3mo_key =
      case_when(
        str_detect(string = avg_vol_3_month, pattern = &quot;k&quot;) ~ &quot;volume ($K)&quot;,
        str_detect(string = avg_vol_3_month, pattern = &quot;M&quot;) ~ &quot;volume ($M)&quot;
      )
  )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["chr"],"align":["left"]},{"label":["avg_vol_3_month"],"name":[8],"type":["chr"],"align":["left"]},{"label":["market_cap"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["volume_key"],"name":[10],"type":["chr"],"align":["left"]},{"label":["avg_vol_3mo_key"],"name":[11],"type":["chr"],"align":["left"]}],"data":[{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"0.35","6":"1:00 PM EST","7":"2.09M","8":"7.19M","9":"401.38","10":"volume ($M)","11":"volume ($M)"},{"1":"RHHBY","2":"Roche Holding AG","3":"42.55","4":"0.06","5":"0.14","6":"1:00 PM EST","7":"721.67k","8":"1.33M","9":"290.62","10":"volume ($K)","11":"volume ($M)"},{"1":"PFE","2":"Pfizer Inc.","3":"37.27","4":"-0.17","5":"-0.45","6":"1:02 PM EST","7":"14.64M","8":"43.28M","9":"207.16","10":"volume ($M)","11":"volume ($M)"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"0.48","6":"1:02 PM EST","7":"2.80M","8":"8.80M","9":"202.76","10":"volume ($M)","11":"volume ($M)"},{"1":"NVS","2":"Novartis AG","3":"88.55","4":"0.17","5":"0.19","6":"1:00 PM EST","7":"557.24k","8":"1.90M","9":"201.65","10":"volume ($K)","11":"volume ($M)"},{"1":"ABBV","2":"AbbVie Inc.","3":"103.26","4":"-0.02","5":"-0.02","6":"1:02 PM EST","7":"1.37M","8":"8.36M","9":"182.30","10":"volume ($M)","11":"volume ($M)"},{"1":"NVO","2":"Novo Nordisk A/S","3":"69.43","4":"-0.19","5":"-0.27","6":"1:00 PM EST","7":"277.20k","8":"1.14M","9":"160.92","10":"volume ($K)","11":"volume ($M)"},{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"0.71","6":"1:02 PM EST","7":"619.48k","8":"4.20M","9":"159.42","10":"volume ($K)","11":"volume ($M)"},{"1":"BMY","2":"Bristol-Myers Squibb Company","3":"61.15","4":"0.15","5":"0.25","6":"1:00 PM EST","7":"3.07M","8":"10.59M","9":"138.18","10":"volume ($M)","11":"volume ($M)"},{"1":"AMGN","2":"Amgen Inc.","3":"222.93","4":"-0.01","5":"0.00","6":"1:00 PM EST","7":"912.39k","8":"2.62M","9":"129.78","10":"volume ($K)","11":"volume ($M)"},{"1":"AZN","2":"AstraZeneca PLC","3":"48.52","4":"-0.25","5":"-0.51","6":"1:00 PM EST","7":"4.91M","8":"7.64M","9":"126.37","10":"volume ($M)","11":"volume ($M)"},{"1":"SNY","2":"Sanofi","3":"47.45","4":"-0.13","5":"-0.27","6":"1:00 PM EST","7":"477.62k","8":"1.33M","9":"119.44","10":"volume ($K)","11":"volume ($M)"},{"1":"GSK","2":"GlaxoSmithKline plc","3":"36.14","4":"-0.09","5":"-0.25","6":"1:00 PM EST","7":"1.29M","8":"4.95M","9":"91.21","10":"volume ($M)","11":"volume ($M)"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52","6":"12:07 PM EST","7":"1.34k","8":"253.49k","9":"88.83","10":"volume ($K)","11":"volume ($K)"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"0.54","6":"1:03 PM EST","7":"414.69k","8":"1.75M","9":"76.39","10":"volume ($K)","11":"volume ($M)"},{"1":"GILD","2":"Gilead Sciences, Inc.","3":"57.07","4":"-0.31","5":"-0.54","6":"1:00 PM EST","7":"3.26M","8":"9.49M","9":"71.54","10":"volume ($M)","11":"volume ($M)"},{"1":"VRTX","2":"Vertex Pharmaceuticals Incorporated","3":"234.46","4":"-1.38","5":"-0.59","6":"1:00 PM EST","7":"446.67k","8":"2.13M","9":"60.97","10":"volume ($K)","11":"volume ($M)"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61","6":"12:59 PM EST","7":"366.53k","8":"797.87k","9":"57.33","10":"volume ($K)","11":"volume ($K)"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93","6":"1:00 PM EST","7":"1.88M","8":"1.34M","9":"56.34","10":"volume ($M)","11":"volume ($M)"},{"1":"REGN","2":"Regeneron Pharmaceuticals, Inc.","3":"488.93","4":"-3.26","5":"-0.66","6":"1:00 PM EST","7":"286.59k","8":"1.03M","9":"52.17","10":"volume ($K)","11":"volume ($M)"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33","6":"1:00 PM EST","7":"12.51M","8":"19.64M","9":"48.83","10":"volume ($M)","11":"volume ($M)"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92","6":"1:00 PM EST","7":"444.89k","8":"1.65M","9":"38.30","10":"volume ($K)","11":"volume ($M)"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30","6":"1:00 PM EST","7":"246.96k","8":"921.99k","9":"34.12","10":"volume ($K)","11":"volume ($K)"},{"1":"ALXN","2":"Alexion Pharmaceuticals, Inc.","3":"152.63","4":"-0.61","5":"-0.40","6":"1:00 PM EST","7":"1.07M","8":"2.38M","9":"33.38","10":"volume ($M)","11":"volume ($M)"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"0.60","6":"1:00 PM EST","7":"1.58M","8":"2.12M","9":"30.57","10":"volume ($M)","11":"volume ($M)"},{"1":"GMAB","2":"Genmab A/S","3":"39.11","4":"0.02","5":"0.05","6":"1:00 PM EST","7":"96.45k","8":"504.87k","9":"25.61","10":"volume ($K)","11":"volume ($K)"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05","6":"1:00 PM EST","7":"77.94k","8":"399.97k","9":"23.74","10":"volume ($K)","11":"volume ($K)"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10","6":"1:00 PM EST","7":"1.03M","8":"3.94M","9":"23.35","10":"volume ($M)","11":"volume ($M)"},{"1":"VTRS","2":"Viatris Inc.","3":"17.77","4":"-0.11","5":"-0.62","6":"1:00 PM EST","7":"1.93M","8":"11.64M","9":"21.36","10":"volume ($M)","11":"volume ($M)"},{"1":"INCY","2":"Incyte Corporation","3":"87.37","4":"-0.56","5":"-0.64","6":"1:00 PM EST","7":"177.61k","8":"1.15M","9":"19.13","10":"volume ($K)","11":"volume ($M)"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Now we want to remove both the <code>M</code> and the <code>k</code> from <code>volume</code> and <code>avg_vol_3_month</code>.</p>
<pre class="r"><code>BioTechStocksRaw %&gt;%
  mutate(
    # change numeric
    change = str_remove_all(string = change, pattern = &quot;^\\+&quot;),
    change = as.numeric(change, na.rm = TRUE),
    # percent change
    percent_change = str_remove_all(string = percent_change, pattern = &quot;^\\+&quot;),
    percent_change = str_remove_all(string = percent_change, pattern = &quot;\\%&quot;),
    percent_change = as.numeric(percent_change, na.rm = TRUE),
    # market cap
    market_cap = str_remove_all(string = market_cap, pattern = &quot;B&quot;),
    market_cap = as.numeric(market_cap, na.rm = TRUE),
    # volume key
    volume_key =
      case_when(
        str_detect(string = volume, pattern = &quot;k&quot;) ~ &quot;volume ($K)&quot;,
        str_detect(string = volume, pattern = &quot;M&quot;) ~ &quot;volume ($M)&quot;
      ),
    # identify k vs M in avg_vol_3_month
    avg_vol_3mo_key =
      case_when(
        str_detect(string = avg_vol_3_month, pattern = &quot;k&quot;) ~ &quot;volume ($K)&quot;,
        str_detect(string = avg_vol_3_month, pattern = &quot;M&quot;) ~ &quot;volume ($M)&quot;
      ),
    # remove string from volume
    volume = str_remove_all(string = volume, pattern = &quot;M|k&quot;),
    # volume as numeric
    volume = as.numeric(volume, na.rm = TRUE),
    # remove string from avg_vol_3_month
    avg_vol_3_month = str_remove_all(string = avg_vol_3_month, pattern = &quot;M|k&quot;),
    # average vol 3-month as numeric
    avg_vol_3_month = as.numeric(avg_vol_3_month, na.rm = TRUE)
  )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["avg_vol_3_month"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["market_cap"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["volume_key"],"name":[10],"type":["chr"],"align":["left"]},{"label":["avg_vol_3mo_key"],"name":[11],"type":["chr"],"align":["left"]}],"data":[{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"0.35","6":"1:00 PM EST","7":"2.09","8":"7.19","9":"401.38","10":"volume ($M)","11":"volume ($M)"},{"1":"RHHBY","2":"Roche Holding AG","3":"42.55","4":"0.06","5":"0.14","6":"1:00 PM EST","7":"721.67","8":"1.33","9":"290.62","10":"volume ($K)","11":"volume ($M)"},{"1":"PFE","2":"Pfizer Inc.","3":"37.27","4":"-0.17","5":"-0.45","6":"1:02 PM EST","7":"14.64","8":"43.28","9":"207.16","10":"volume ($M)","11":"volume ($M)"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"0.48","6":"1:02 PM EST","7":"2.80","8":"8.80","9":"202.76","10":"volume ($M)","11":"volume ($M)"},{"1":"NVS","2":"Novartis AG","3":"88.55","4":"0.17","5":"0.19","6":"1:00 PM EST","7":"557.24","8":"1.90","9":"201.65","10":"volume ($K)","11":"volume ($M)"},{"1":"ABBV","2":"AbbVie Inc.","3":"103.26","4":"-0.02","5":"-0.02","6":"1:02 PM EST","7":"1.37","8":"8.36","9":"182.30","10":"volume ($M)","11":"volume ($M)"},{"1":"NVO","2":"Novo Nordisk A/S","3":"69.43","4":"-0.19","5":"-0.27","6":"1:00 PM EST","7":"277.20","8":"1.14","9":"160.92","10":"volume ($K)","11":"volume ($M)"},{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"0.71","6":"1:02 PM EST","7":"619.48","8":"4.20","9":"159.42","10":"volume ($K)","11":"volume ($M)"},{"1":"BMY","2":"Bristol-Myers Squibb Company","3":"61.15","4":"0.15","5":"0.25","6":"1:00 PM EST","7":"3.07","8":"10.59","9":"138.18","10":"volume ($M)","11":"volume ($M)"},{"1":"AMGN","2":"Amgen Inc.","3":"222.93","4":"-0.01","5":"0.00","6":"1:00 PM EST","7":"912.39","8":"2.62","9":"129.78","10":"volume ($K)","11":"volume ($M)"},{"1":"AZN","2":"AstraZeneca PLC","3":"48.52","4":"-0.25","5":"-0.51","6":"1:00 PM EST","7":"4.91","8":"7.64","9":"126.37","10":"volume ($M)","11":"volume ($M)"},{"1":"SNY","2":"Sanofi","3":"47.45","4":"-0.13","5":"-0.27","6":"1:00 PM EST","7":"477.62","8":"1.33","9":"119.44","10":"volume ($K)","11":"volume ($M)"},{"1":"GSK","2":"GlaxoSmithKline plc","3":"36.14","4":"-0.09","5":"-0.25","6":"1:00 PM EST","7":"1.29","8":"4.95","9":"91.21","10":"volume ($M)","11":"volume ($M)"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52","6":"12:07 PM EST","7":"1.34","8":"253.49","9":"88.83","10":"volume ($K)","11":"volume ($K)"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"0.54","6":"1:03 PM EST","7":"414.69","8":"1.75","9":"76.39","10":"volume ($K)","11":"volume ($M)"},{"1":"GILD","2":"Gilead Sciences, Inc.","3":"57.07","4":"-0.31","5":"-0.54","6":"1:00 PM EST","7":"3.26","8":"9.49","9":"71.54","10":"volume ($M)","11":"volume ($M)"},{"1":"VRTX","2":"Vertex Pharmaceuticals Incorporated","3":"234.46","4":"-1.38","5":"-0.59","6":"1:00 PM EST","7":"446.67","8":"2.13","9":"60.97","10":"volume ($K)","11":"volume ($M)"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61","6":"12:59 PM EST","7":"366.53","8":"797.87","9":"57.33","10":"volume ($K)","11":"volume ($K)"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93","6":"1:00 PM EST","7":"1.88","8":"1.34","9":"56.34","10":"volume ($M)","11":"volume ($M)"},{"1":"REGN","2":"Regeneron Pharmaceuticals, Inc.","3":"488.93","4":"-3.26","5":"-0.66","6":"1:00 PM EST","7":"286.59","8":"1.03","9":"52.17","10":"volume ($K)","11":"volume ($M)"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33","6":"1:00 PM EST","7":"12.51","8":"19.64","9":"48.83","10":"volume ($M)","11":"volume ($M)"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92","6":"1:00 PM EST","7":"444.89","8":"1.65","9":"38.30","10":"volume ($K)","11":"volume ($M)"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30","6":"1:00 PM EST","7":"246.96","8":"921.99","9":"34.12","10":"volume ($K)","11":"volume ($K)"},{"1":"ALXN","2":"Alexion Pharmaceuticals, Inc.","3":"152.63","4":"-0.61","5":"-0.40","6":"1:00 PM EST","7":"1.07","8":"2.38","9":"33.38","10":"volume ($M)","11":"volume ($M)"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"0.60","6":"1:00 PM EST","7":"1.58","8":"2.12","9":"30.57","10":"volume ($M)","11":"volume ($M)"},{"1":"GMAB","2":"Genmab A/S","3":"39.11","4":"0.02","5":"0.05","6":"1:00 PM EST","7":"96.45","8":"504.87","9":"25.61","10":"volume ($K)","11":"volume ($K)"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05","6":"1:00 PM EST","7":"77.94","8":"399.97","9":"23.74","10":"volume ($K)","11":"volume ($K)"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10","6":"1:00 PM EST","7":"1.03","8":"3.94","9":"23.35","10":"volume ($M)","11":"volume ($M)"},{"1":"VTRS","2":"Viatris Inc.","3":"17.77","4":"-0.11","5":"-0.62","6":"1:00 PM EST","7":"1.93","8":"11.64","9":"21.36","10":"volume ($M)","11":"volume ($M)"},{"1":"INCY","2":"Incyte Corporation","3":"87.37","4":"-0.56","5":"-0.64","6":"1:00 PM EST","7":"177.61","8":"1.15","9":"19.13","10":"volume ($K)","11":"volume ($M)"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>And now we can use the <code>key</code> variables to transform the values so they are all in millions.</p>
<pre class="r"><code>BioTechStocksRaw %&gt;%
  mutate(
    # change numeric
    change = str_remove_all(string = change, pattern = &quot;^\\+&quot;),
    change = as.numeric(change, na.rm = TRUE),
    # percent change
    percent_change = str_remove_all(string = percent_change, pattern = &quot;^\\+&quot;),
    percent_change = str_remove_all(string = percent_change, pattern = &quot;\\%&quot;),
    percent_change = as.numeric(percent_change, na.rm = TRUE),
    # market cap
    market_cap = str_remove_all(string = market_cap, pattern = &quot;B&quot;),
    market_cap = as.numeric(market_cap, na.rm = TRUE),
    # volume key
    volume_key =
      case_when(
        str_detect(string = volume, pattern = &quot;k&quot;) ~ &quot;volume ($K)&quot;,
        str_detect(string = volume, pattern = &quot;M&quot;) ~ &quot;volume ($M)&quot;
      ),
    # identify k vs M in avg_vol_3_month
    avg_vol_3mo_key =
      case_when(
        str_detect(string = avg_vol_3_month, pattern = &quot;k&quot;) ~ &quot;volume ($K)&quot;,
        str_detect(string = avg_vol_3_month, pattern = &quot;M&quot;) ~ &quot;volume ($M)&quot;
      ),
    # remove string from volume
    volume = str_remove_all(string = volume, pattern = &quot;M|k&quot;),
    # volume as numeric
    volume = as.numeric(volume, na.rm = TRUE),
    # remove string from avg_vol_3_month
    avg_vol_3_month = str_remove_all(string = avg_vol_3_month, pattern = &quot;M|k&quot;),
    # average vol 3-month as numeric
    avg_vol_3_month = as.numeric(avg_vol_3_month, na.rm = TRUE),
    # format volume
    volume = case_when(
      # convert k to mil
      volume_key == &quot;volume ($K)&quot; ~ round(volume * 0.001, digits = 2),
      # round mil
      volume_key == &quot;volume ($M)&quot; ~ round(volume, digits = 2)
    ),
    # convert k to mil
    avg_vol_3_month = case_when(
      avg_vol_3mo_key == &quot;volume ($K)&quot; ~ round(avg_vol_3_month * 0.001, digits = 2),
      # round mil
      avg_vol_3mo_key == &quot;volume ($M)&quot; ~ round(avg_vol_3_month, digits = 2)
    )
  )</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["avg_vol_3_month"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["market_cap"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["volume_key"],"name":[10],"type":["chr"],"align":["left"]},{"label":["avg_vol_3mo_key"],"name":[11],"type":["chr"],"align":["left"]}],"data":[{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"0.35","6":"1:00 PM EST","7":"2.09","8":"7.19","9":"401.38","10":"volume ($M)","11":"volume ($M)"},{"1":"RHHBY","2":"Roche Holding AG","3":"42.55","4":"0.06","5":"0.14","6":"1:00 PM EST","7":"0.72","8":"1.33","9":"290.62","10":"volume ($K)","11":"volume ($M)"},{"1":"PFE","2":"Pfizer Inc.","3":"37.27","4":"-0.17","5":"-0.45","6":"1:02 PM EST","7":"14.64","8":"43.28","9":"207.16","10":"volume ($M)","11":"volume ($M)"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"0.48","6":"1:02 PM EST","7":"2.80","8":"8.80","9":"202.76","10":"volume ($M)","11":"volume ($M)"},{"1":"NVS","2":"Novartis AG","3":"88.55","4":"0.17","5":"0.19","6":"1:00 PM EST","7":"0.56","8":"1.90","9":"201.65","10":"volume ($K)","11":"volume ($M)"},{"1":"ABBV","2":"AbbVie Inc.","3":"103.26","4":"-0.02","5":"-0.02","6":"1:02 PM EST","7":"1.37","8":"8.36","9":"182.30","10":"volume ($M)","11":"volume ($M)"},{"1":"NVO","2":"Novo Nordisk A/S","3":"69.43","4":"-0.19","5":"-0.27","6":"1:00 PM EST","7":"0.28","8":"1.14","9":"160.92","10":"volume ($K)","11":"volume ($M)"},{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"0.71","6":"1:02 PM EST","7":"0.62","8":"4.20","9":"159.42","10":"volume ($K)","11":"volume ($M)"},{"1":"BMY","2":"Bristol-Myers Squibb Company","3":"61.15","4":"0.15","5":"0.25","6":"1:00 PM EST","7":"3.07","8":"10.59","9":"138.18","10":"volume ($M)","11":"volume ($M)"},{"1":"AMGN","2":"Amgen Inc.","3":"222.93","4":"-0.01","5":"0.00","6":"1:00 PM EST","7":"0.91","8":"2.62","9":"129.78","10":"volume ($K)","11":"volume ($M)"},{"1":"AZN","2":"AstraZeneca PLC","3":"48.52","4":"-0.25","5":"-0.51","6":"1:00 PM EST","7":"4.91","8":"7.64","9":"126.37","10":"volume ($M)","11":"volume ($M)"},{"1":"SNY","2":"Sanofi","3":"47.45","4":"-0.13","5":"-0.27","6":"1:00 PM EST","7":"0.48","8":"1.33","9":"119.44","10":"volume ($K)","11":"volume ($M)"},{"1":"GSK","2":"GlaxoSmithKline plc","3":"36.14","4":"-0.09","5":"-0.25","6":"1:00 PM EST","7":"1.29","8":"4.95","9":"91.21","10":"volume ($M)","11":"volume ($M)"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52","6":"12:07 PM EST","7":"0.00","8":"0.25","9":"88.83","10":"volume ($K)","11":"volume ($K)"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"0.54","6":"1:03 PM EST","7":"0.41","8":"1.75","9":"76.39","10":"volume ($K)","11":"volume ($M)"},{"1":"GILD","2":"Gilead Sciences, Inc.","3":"57.07","4":"-0.31","5":"-0.54","6":"1:00 PM EST","7":"3.26","8":"9.49","9":"71.54","10":"volume ($M)","11":"volume ($M)"},{"1":"VRTX","2":"Vertex Pharmaceuticals Incorporated","3":"234.46","4":"-1.38","5":"-0.59","6":"1:00 PM EST","7":"0.45","8":"2.13","9":"60.97","10":"volume ($K)","11":"volume ($M)"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61","6":"12:59 PM EST","7":"0.37","8":"0.80","9":"57.33","10":"volume ($K)","11":"volume ($K)"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93","6":"1:00 PM EST","7":"1.88","8":"1.34","9":"56.34","10":"volume ($M)","11":"volume ($M)"},{"1":"REGN","2":"Regeneron Pharmaceuticals, Inc.","3":"488.93","4":"-3.26","5":"-0.66","6":"1:00 PM EST","7":"0.29","8":"1.03","9":"52.17","10":"volume ($K)","11":"volume ($M)"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33","6":"1:00 PM EST","7":"12.51","8":"19.64","9":"48.83","10":"volume ($M)","11":"volume ($M)"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92","6":"1:00 PM EST","7":"0.44","8":"1.65","9":"38.30","10":"volume ($K)","11":"volume ($M)"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30","6":"1:00 PM EST","7":"0.25","8":"0.92","9":"34.12","10":"volume ($K)","11":"volume ($K)"},{"1":"ALXN","2":"Alexion Pharmaceuticals, Inc.","3":"152.63","4":"-0.61","5":"-0.40","6":"1:00 PM EST","7":"1.07","8":"2.38","9":"33.38","10":"volume ($M)","11":"volume ($M)"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"0.60","6":"1:00 PM EST","7":"1.58","8":"2.12","9":"30.57","10":"volume ($M)","11":"volume ($M)"},{"1":"GMAB","2":"Genmab A/S","3":"39.11","4":"0.02","5":"0.05","6":"1:00 PM EST","7":"0.10","8":"0.50","9":"25.61","10":"volume ($K)","11":"volume ($K)"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05","6":"1:00 PM EST","7":"0.08","8":"0.40","9":"23.74","10":"volume ($K)","11":"volume ($K)"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10","6":"1:00 PM EST","7":"1.03","8":"3.94","9":"23.35","10":"volume ($M)","11":"volume ($M)"},{"1":"VTRS","2":"Viatris Inc.","3":"17.77","4":"-0.11","5":"-0.62","6":"1:00 PM EST","7":"1.93","8":"11.64","9":"21.36","10":"volume ($M)","11":"volume ($M)"},{"1":"INCY","2":"Incyte Corporation","3":"87.37","4":"-0.56","5":"-0.64","6":"1:00 PM EST","7":"0.18","8":"1.15","9":"19.13","10":"volume ($K)","11":"volume ($M)"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="biotechstocksclean" class="section level3" number="4.1.3">
<h3 number="4.1.3"><span class="header-section-number">4.1.3</span> <code>BioTechStocksClean</code></h3>
<p>Now we’ll remove the <code>key</code> columns for volume and average 3-month volume and store the clean variables in <code>BioTechStocksClean</code>.</p>
<pre class="r"><code>BioTechStocksRaw %&gt;%
  mutate(
    # change numeric
    change = str_remove_all(string = change, pattern = &quot;^\\+&quot;),
    change = as.numeric(change, na.rm = TRUE),
    # percent change
    percent_change = str_remove_all(string = percent_change, pattern = &quot;^\\+&quot;),
    percent_change = str_remove_all(string = percent_change, pattern = &quot;\\%&quot;),
    percent_change = as.numeric(percent_change, na.rm = TRUE),
    # market cap
    market_cap = str_remove_all(string = market_cap, pattern = &quot;B&quot;),
    market_cap = as.numeric(market_cap, na.rm = TRUE),
    # volume key
    volume_key =
      case_when(
        str_detect(string = volume, pattern = &quot;k&quot;) ~ &quot;volume ($K)&quot;,
        str_detect(string = volume, pattern = &quot;M&quot;) ~ &quot;volume ($M)&quot;
      ),
    # identify k vs M in avg_vol_3_month
    avg_vol_3mo_key =
      case_when(
        str_detect(string = avg_vol_3_month, pattern = &quot;k&quot;) ~ &quot;volume ($K)&quot;,
        str_detect(string = avg_vol_3_month, pattern = &quot;M&quot;) ~ &quot;volume ($M)&quot;
      ),
    # remove string from volume
    volume = str_remove_all(string = volume, pattern = &quot;M|k&quot;),
    # volume as numeric
    volume = as.numeric(volume, na.rm = TRUE),
    # remove string from avg_vol_3_month
    avg_vol_3_month = str_remove_all(string = avg_vol_3_month, pattern = &quot;M|k&quot;),
    # average vol 3-month as numeric
    avg_vol_3_month = as.numeric(avg_vol_3_month, na.rm = TRUE),
    # format volume
    volume = case_when(
      # convert k to mil
      volume_key == &quot;volume ($K)&quot; ~ round(volume * 0.001, digits = 2),
      # round mil
      volume_key == &quot;volume ($M)&quot; ~ round(volume, digits = 2)
    ),
    # convert k to mil
    avg_vol_3_month = case_when(
      avg_vol_3mo_key == &quot;volume ($K)&quot; ~ round(avg_vol_3_month * 0.001, digits = 2),
      # round mil
      avg_vol_3mo_key == &quot;volume ($M)&quot; ~ round(avg_vol_3_month, digits = 2)
    )
  ) %&gt;%
  # reduce dataset to original columns
  dplyr::select(
    symbol,
    company_name,
    last_price,
    change,
    percent_change,
    market_time,
    volume,
    avg_vol_3_month,
    market_cap
  ) -&gt; BioTechStocksClean
BioTechStocksClean</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["avg_vol_3_month"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["market_cap"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"0.35","6":"1:00 PM EST","7":"2.09","8":"7.19","9":"401.38"},{"1":"RHHBY","2":"Roche Holding AG","3":"42.55","4":"0.06","5":"0.14","6":"1:00 PM EST","7":"0.72","8":"1.33","9":"290.62"},{"1":"PFE","2":"Pfizer Inc.","3":"37.27","4":"-0.17","5":"-0.45","6":"1:02 PM EST","7":"14.64","8":"43.28","9":"207.16"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"0.48","6":"1:02 PM EST","7":"2.80","8":"8.80","9":"202.76"},{"1":"NVS","2":"Novartis AG","3":"88.55","4":"0.17","5":"0.19","6":"1:00 PM EST","7":"0.56","8":"1.90","9":"201.65"},{"1":"ABBV","2":"AbbVie Inc.","3":"103.26","4":"-0.02","5":"-0.02","6":"1:02 PM EST","7":"1.37","8":"8.36","9":"182.30"},{"1":"NVO","2":"Novo Nordisk A/S","3":"69.43","4":"-0.19","5":"-0.27","6":"1:00 PM EST","7":"0.28","8":"1.14","9":"160.92"},{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"0.71","6":"1:02 PM EST","7":"0.62","8":"4.20","9":"159.42"},{"1":"BMY","2":"Bristol-Myers Squibb Company","3":"61.15","4":"0.15","5":"0.25","6":"1:00 PM EST","7":"3.07","8":"10.59","9":"138.18"},{"1":"AMGN","2":"Amgen Inc.","3":"222.93","4":"-0.01","5":"0.00","6":"1:00 PM EST","7":"0.91","8":"2.62","9":"129.78"},{"1":"AZN","2":"AstraZeneca PLC","3":"48.52","4":"-0.25","5":"-0.51","6":"1:00 PM EST","7":"4.91","8":"7.64","9":"126.37"},{"1":"SNY","2":"Sanofi","3":"47.45","4":"-0.13","5":"-0.27","6":"1:00 PM EST","7":"0.48","8":"1.33","9":"119.44"},{"1":"GSK","2":"GlaxoSmithKline plc","3":"36.14","4":"-0.09","5":"-0.25","6":"1:00 PM EST","7":"1.29","8":"4.95","9":"91.21"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52","6":"12:07 PM EST","7":"0.00","8":"0.25","9":"88.83"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"0.54","6":"1:03 PM EST","7":"0.41","8":"1.75","9":"76.39"},{"1":"GILD","2":"Gilead Sciences, Inc.","3":"57.07","4":"-0.31","5":"-0.54","6":"1:00 PM EST","7":"3.26","8":"9.49","9":"71.54"},{"1":"VRTX","2":"Vertex Pharmaceuticals Incorporated","3":"234.46","4":"-1.38","5":"-0.59","6":"1:00 PM EST","7":"0.45","8":"2.13","9":"60.97"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61","6":"12:59 PM EST","7":"0.37","8":"0.80","9":"57.33"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93","6":"1:00 PM EST","7":"1.88","8":"1.34","9":"56.34"},{"1":"REGN","2":"Regeneron Pharmaceuticals, Inc.","3":"488.93","4":"-3.26","5":"-0.66","6":"1:00 PM EST","7":"0.29","8":"1.03","9":"52.17"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33","6":"1:00 PM EST","7":"12.51","8":"19.64","9":"48.83"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92","6":"1:00 PM EST","7":"0.44","8":"1.65","9":"38.30"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30","6":"1:00 PM EST","7":"0.25","8":"0.92","9":"34.12"},{"1":"ALXN","2":"Alexion Pharmaceuticals, Inc.","3":"152.63","4":"-0.61","5":"-0.40","6":"1:00 PM EST","7":"1.07","8":"2.38","9":"33.38"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"0.60","6":"1:00 PM EST","7":"1.58","8":"2.12","9":"30.57"},{"1":"GMAB","2":"Genmab A/S","3":"39.11","4":"0.02","5":"0.05","6":"1:00 PM EST","7":"0.10","8":"0.50","9":"25.61"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05","6":"1:00 PM EST","7":"0.08","8":"0.40","9":"23.74"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10","6":"1:00 PM EST","7":"1.03","8":"3.94","9":"23.35"},{"1":"VTRS","2":"Viatris Inc.","3":"17.77","4":"-0.11","5":"-0.62","6":"1:00 PM EST","7":"1.93","8":"11.64","9":"21.36"},{"1":"INCY","2":"Incyte Corporation","3":"87.37","4":"-0.56","5":"-0.64","6":"1:00 PM EST","7":"0.18","8":"1.15","9":"19.13"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>If we compare this to <code>BioTechStocksRaw</code> we can see we’ve kept all the numerical information, but removed the character symbols. See the examples we’ve filtered for below:</p>
<pre class="r"><code>BioTechStocksRaw %&gt;%
  dplyr::filter(symbol %in% c(&quot;SGEN&quot;, &quot;BAYRY&quot;, &quot;GLAXF&quot;, &quot;BGNE&quot;))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["chr"],"align":["left"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["chr"],"align":["left"]},{"label":["avg_vol_3_month"],"name":[8],"type":["chr"],"align":["left"]},{"label":["market_cap"],"name":[9],"type":["chr"],"align":["left"]}],"data":[{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52%","6":"12:07 PM EST","7":"1.34k","8":"253.49k","9":"88.83B"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61%","6":"12:59 PM EST","7":"366.53k","8":"797.87k","9":"57.33B"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30%","6":"1:00 PM EST","7":"246.96k","8":"921.99k","9":"34.12B"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05%","6":"1:00 PM EST","7":"77.94k","8":"399.97k","9":"23.74B"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>BioTechStocksClean %&gt;%
  dplyr::filter(symbol %in% c(&quot;SGEN&quot;, &quot;BAYRY&quot;, &quot;GLAXF&quot;, &quot;BGNE&quot;))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["market_time"],"name":[6],"type":["chr"],"align":["left"]},{"label":["volume"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["avg_vol_3_month"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["market_cap"],"name":[9],"type":["dbl"],"align":["right"]}],"data":[{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52","6":"12:07 PM EST","7":"0.00","8":"0.25","9":"88.83"},{"1":"BAYRY","2":"Bayer Aktiengesellschaft","3":"14.59","4":"-0.09","5":"-0.61","6":"12:59 PM EST","7":"0.37","8":"0.80","9":"57.33"},{"1":"SGEN","2":"Seagen Inc.","3":"190.61","4":"-0.58","5":"-0.30","6":"1:00 PM EST","7":"0.25","8":"0.92","9":"34.12"},{"1":"BGNE","2":"BeiGene, Ltd.","3":"263.72","4":"-0.14","5":"-0.05","6":"1:00 PM EST","7":"0.08","8":"0.40","9":"23.74"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<div id="reactable-package" class="section level1" number="5">
<h1 number="5"><span class="header-section-number">5</span> <code>reactable</code> package</h1>
<p>The <code>reactable</code> package provides a comprehensive library of data display features.</p>
<p>We’re going to work through a few examples of how to use this package for displaying a subset of the <code>BioTechStocksClean</code> data (created below):</p>
<pre class="r"><code>BioTechStocksClean %&gt;%
  dplyr::filter(percent_change &lt; -0.90 | percent_change &gt; 0.30) %&gt;%
  dplyr::arrange(desc(percent_change)) %&gt;% 
  dplyr::select(symbol:percent_change) -&gt; TopBottomBioTechChange
TopBottomBioTechChange</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["symbol"],"name":[1],"type":["chr"],"align":["left"]},{"label":["company_name"],"name":[2],"type":["chr"],"align":["left"]},{"label":["last_price"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["change"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percent_change"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"LLY","2":"Eli Lilly and Company","3":"166.66","4":"1.18","5":"0.71"},{"1":"RPRX","2":"Royalty Pharma plc","3":"48.90","4":"0.29","5":"0.60"},{"1":"ZTS","2":"Zoetis Inc.","3":"160.72","4":"0.87","5":"0.54"},{"1":"MRK","2":"Merck & Co., Inc.","3":"80.14","4":"0.38","5":"0.48"},{"1":"JNJ","2":"Johnson & Johnson","3":"152.47","4":"0.53","5":"0.35"},{"1":"BIIB","2":"Biogen Inc.","3":"248.89","4":"-2.31","5":"-0.92"},{"1":"TAK","2":"Takeda Pharmaceutical Company Limited","3":"18.11","4":"-0.17","5":"-0.93"},{"1":"GLAXF","2":"GlaxoSmithKline plc","3":"17.79","4":"-0.46","5":"-2.52"},{"1":"BNTX","2":"BioNTech SE","3":"96.96","4":"-3.10","5":"-3.10"},{"1":"MRNA","2":"Moderna, Inc.","3":"123.39","4":"-6.95","5":"-5.33"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div id="the-basics" class="section level2 tabset" number="5.1">
<h2 class="tabset" number="5.1"><span class="header-section-number">5.1</span> The basics</h2>
<p>The simplest use of reactive is by passing a <code>tibble</code> or <code>data.frame</code> directly to it.</p>
<pre class="r"><code>reactable(TopBottomBioTechChange)</code></pre>
<div id="htmlwidget-f87097697bfbe8ee791d" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f87097697bfbe8ee791d">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character"},{"accessor":"company_name","name":"company_name","type":"character"},{"accessor":"last_price","name":"last_price","type":"numeric"},{"accessor":"change","name":"change","type":"numeric"},{"accessor":"percent_change","name":"percent_change","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"e6cead491e04cc6562944f22a0653646","key":"e6cead491e04cc6562944f22a0653646"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<div id="listing-columns" class="section level3" number="5.1.1">
<h3 number="5.1.1"><span class="header-section-number">5.1.1</span> Listing <code>columns</code></h3>
<p>The <code>columns</code> argument in <code>reactable</code> addresses any formatting we want to make the columns in our table. It takes the <a href="https://glin.github.io/reactable/reference/colDef.html"><code>colDef()</code> function</a>, which has many options for customizing and styling the table columns.</p>
<p>For example, we can pass a <code>list()</code> of columns with <code>colDef()</code> to change the names of the columns.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  columns = list(
    symbol = colDef(name = &quot;Symbol&quot;),
    company_name = colDef(name = &quot;Company Name&quot;),
    last_price = colDef(name = &quot;Last Price&quot;),
    change = colDef(name = &quot;Change&quot;),
    percent_change = colDef(name = &quot;Percent Change&quot;)
  )
)</code></pre>
<div id="htmlwidget-07a1a40d5e4ae26d7862" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-07a1a40d5e4ae26d7862">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"Symbol","type":"character"},{"accessor":"company_name","name":"Company Name","type":"character"},{"accessor":"last_price","name":"Last Price","type":"numeric"},{"accessor":"change","name":"Change","type":"numeric"},{"accessor":"percent_change","name":"Percent Change","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"80ce2ab17336cefc333a445018f06eb2","key":"80ce2ab17336cefc333a445018f06eb2"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="the-defaultcoldef" class="section level3" number="5.1.2">
<h3 number="5.1.2"><span class="header-section-number">5.1.2</span> The <code>defaultColDef</code></h3>
<p>There is also a <code>defaultColDef</code> argument we can use to set all the columns in the <code>tibble</code> or <code>data.frame</code>.</p>
<p>We use <code>defaultColDef</code> to write some custom functions for how we want the columns to be formatted. Take the <code>header</code> argument example below:</p>
<pre class="r"><code>colDef(header = )
# Custom header renderer. An R function that takes the header value and column
# name as arguments, or a JS() function that takes a column info object as an
# argument.</code></pre>
</div>
</div>
<div id="custom-functions" class="section level2 tabset" number="5.2">
<h2 class="tabset" number="5.2"><span class="header-section-number">5.2</span> Custom <code>function</code>s</h2>
<p>The function we define takes a <code>value</code>, removes the underscores and converts the column name to title case.</p>
<div id="test-functions" class="section level3" number="5.2.1">
<h3 number="5.2.1"><span class="header-section-number">5.2.1</span> Test <code>function</code>s</h3>
<p>These should be able to stand alone as functions.</p>
<pre class="r"><code>header &lt;- function(value) {
  hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
  str_to_title(hdr)
}
header(value = names(TopBottomBioTechChange))</code></pre>
<pre><code>## [1] &quot;Symbol&quot;         &quot;Company Name&quot;   &quot;Last Price&quot;     &quot;Change&quot;        
## [5] &quot;Percent Change&quot;</code></pre>
</div>
<div id="coldef-header" class="section level3" number="5.2.2">
<h3 number="5.2.2"><span class="header-section-number">5.2.2</span> <code>colDef()</code> + <code>header</code></h3>
<p>But when we pass to <code>colDef()</code>, they get applied to the <code>tibble</code> or <code>data.frame</code>.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    }
  )
)</code></pre>
<div id="htmlwidget-42f30027eb0517085cb1" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-42f30027eb0517085cb1">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","header":"Symbol"},{"accessor":"company_name","name":"company_name","type":"character","header":"Company Name"},{"accessor":"last_price","name":"last_price","type":"numeric","header":"Last Price"},{"accessor":"change","name":"change","type":"numeric","header":"Change"},{"accessor":"percent_change","name":"percent_change","type":"numeric","header":"Percent Change"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"9f3197813ea7f3d3c0c600f7fb45cad8","key":"9f3197813ea7f3d3c0c600f7fb45cad8"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="argument-values-as-lists" class="section level2 tabset" number="5.3">
<h2 class="tabset" number="5.3"><span class="header-section-number">5.3</span> Argument values as <code>list()</code>s</h2>
<p>We can also pass a <code>list</code> of values to <code>colDef()</code> arguments.</p>
<div id="headerstyle" class="section level3" number="5.3.1">
<h3 number="5.3.1"><span class="header-section-number">5.3.1</span> <code>headerStyle</code></h3>
<p>See the <code>headerStyle</code> example below:</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  defaultColDef = colDef(
    # header formatting
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    # headerStyle
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ), 
    format = colFormat(digits = 2)
  )
)</code></pre>
<div id="htmlwidget-81437e13f32adebdd70b" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-81437e13f32adebdd70b">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"7958613c6801f400ca201d579a8979f2","key":"7958613c6801f400ca201d579a8979f2"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="override-defaultcoldef" class="section level3" number="5.3.2">
<h3 number="5.3.2"><span class="header-section-number">5.3.2</span> Override <code>defaultColDef</code></h3>
<p>We can also override the default column settings in <code>defaultColDef</code> by supplying an additional <code>colDef()</code> function.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240)
  )
)</code></pre>
<div id="htmlwidget-4a310ab8b45c042c9d9d" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4a310ab8b45c042c9d9d">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"1d38f0189807d75f5a0921e18124f27f","key":"1d38f0189807d75f5a0921e18124f27f"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="add-symbols" class="section level2 tabset" number="5.4">
<h2 class="tabset" number="5.4"><span class="header-section-number">5.4</span> Add symbols</h2>
<p>Let’s add the symbols to <code>change</code> and <code>percent_change</code> we removed from the previous table (<code>+</code> and <code>-</code>).</p>
<div id="custom-cell-function" class="section level3" number="5.4.1">
<h3 number="5.4.1"><span class="header-section-number">5.4.1</span> Custom <code>cell</code> function</h3>
<p>To do this, we’ll write a custom function for adding the cell formatting.</p>
<pre class="r"><code>cell &lt;- function(value) {
  # here we use paste0() to combine the value with +
  # for all values greater than 0
  if (value &gt; 0.00) paste0(&quot;+&quot;, value) else value
}
cell(TopBottomBioTechChange$percent_change[1])</code></pre>
<pre><code>## [1] &quot;+0.71&quot;</code></pre>
<pre class="r"><code>cell(TopBottomBioTechChange$change[6])</code></pre>
<pre><code>## [1] -2.31</code></pre>
</div>
<div id="coldef-cell" class="section level3" number="5.4.2">
<h3 number="5.4.2"><span class="header-section-number">5.4.2</span> <code>colDef()</code> + <code>cell</code></h3>
<p>This is working, so we’ll add this to the <code>colDef()</code> function for <code>change</code> and <code>percent_change</code>.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240),
    change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
    ),
    percent_change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      }
    )
  )
)</code></pre>
<div id="htmlwidget-8c90a30cc6039d30f8c6" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8c90a30cc6039d30f8c6">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"1fd5b86361ddb3ac7daeb3fccc88073b","key":"1fd5b86361ddb3ac7daeb3fccc88073b"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="add-color-with-style" class="section level2 tabset" number="5.5">
<h2 class="tabset" number="5.5"><span class="header-section-number">5.5</span> Add <code>color</code> with <code>style</code></h2>
<p>Our table is starting to look like the <a href="https://finance.yahoo.com/u/yahoo-finance/watchlists/biotech-and-drug-stocks">original</a>.</p>
<p><img src="img/yahoo-stocks-table.png" width="454" /></p>
<p>We want to make the positive <code>change</code> and <code>percent_change</code> values green, and the negative values red.</p>
<div id="custom-style-function" class="section level3" number="5.5.1">
<h3 number="5.5.1"><span class="header-section-number">5.5.1</span> Custom <code>style</code> function</h3>
<p>First we define a function with the color values.</p>
<pre class="r"><code>style &lt;- function(value) {
  color &lt;- if (value &gt; 0) {
    # green if above
    &quot;#008B00&quot;
    # red if below
  } else if (value &lt; 0) {
    &quot;#FF3030&quot;
  } # adjust the font weight and color
  list(fontWeight = 600, color = color)
}
style(TopBottomBioTechChange$change[1])</code></pre>
<pre><code>## $fontWeight
## [1] 600
## 
## $color
## [1] &quot;#008B00&quot;</code></pre>
<pre class="r"><code>style(TopBottomBioTechChange$percent_change[6])</code></pre>
<pre><code>## $fontWeight
## [1] 600
## 
## $color
## [1] &quot;#FF3030&quot;</code></pre>
</div>
<div id="coldef-style" class="section level3" number="5.5.2">
<h3 number="5.5.2"><span class="header-section-number">5.5.2</span> <code>colDef()</code> + <code>style</code></h3>
<p>This is returning the two values we want to supply (<code>fontWeight</code> and <code>color</code>), so we can add it <em>inside</em> the <code>colDef()</code> function for each column.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240),
    change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    percent_change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    )
  )
)</code></pre>
<div id="htmlwidget-1a8f427e632630320863" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1a8f427e632630320863">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"cd3324d6ec1cd13bd373c30c55c302b8","key":"cd3324d6ec1cd13bd373c30c55c302b8"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="style-fonts-and-color" class="section level3" number="5.5.3">
<h3 number="5.5.3"><span class="header-section-number">5.5.3</span> <code>style</code> fonts and color</h3>
<p>We need to change the <code>color</code> and <code>weight</code> of the stock symbols and last price, and we can set the font weight and color <em>inside</em> <code>colDef()</code> with the <code>style</code> argument.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240),
    change = colDef(
      format = colFormat(digits = 2),
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    percent_change = colDef(
      format = colFormat(digits = 2),
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    symbol = colDef(
      style = list(color = &quot;#8470FF&quot;, fontWeight = &quot;bold&quot;)
    ),
    last_price = colDef(
      format = colFormat(digits = 2),
      style = list(color = &quot;black&quot;, fontWeight = &quot;bold&quot;)
    )
  )
)</code></pre>
<div id="htmlwidget-0b9cb817b02add2b0d03" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-0b9cb817b02add2b0d03">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"#8470FF","fontWeight":"bold"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"black","fontWeight":"bold"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"3e472fbb7e01a26d6eac75fc93b0ca55","key":"3e472fbb7e01a26d6eac75fc93b0ca55"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>Now that the table looks similar, we need to add some highlighting (and some other features that aren’t in the original table).</p>
</div>
</div>
<div id="add-highlighting-and-formatting" class="section level2 tabset" number="5.6">
<h2 class="tabset" number="5.6"><span class="header-section-number">5.6</span> Add highlighting and formatting</h2>
<p>The original table highlights each row when we roll over it with our cursor, and we can add this with the <code>highlight = TRUE</code> argument.</p>
<div id="highlight" class="section level3" number="5.6.1">
<h3 number="5.6.1"><span class="header-section-number">5.6.1</span> <code>highlight</code></h3>
<p>The <code>highlight</code> argument precedes the column definition functions.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  highlight = TRUE,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240),
    change = colDef(
      format = colFormat(digits = 2),
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    percent_change = colDef(
      format = colFormat(digits = 2),
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    symbol = colDef(
      style = list(color = &quot;#8470FF&quot;, fontWeight = &quot;bold&quot;)
    ),
    last_price = colDef(
      format = colFormat(digits = 2),
      style = list(color = &quot;black&quot;, fontWeight = &quot;bold&quot;)
    )
  )
)</code></pre>
<div id="htmlwidget-b89f92bfc4b08ac1812d" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b89f92bfc4b08ac1812d">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"#8470FF","fontWeight":"bold"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"black","fontWeight":"bold"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"dataKey":"3e472fbb7e01a26d6eac75fc93b0ca55","key":"3e472fbb7e01a26d6eac75fc93b0ca55"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="striped" class="section level3" number="5.6.2">
<h3 number="5.6.2"><span class="header-section-number">5.6.2</span> <code>striped</code></h3>
<p>The original table also has striping (every other row is a different color), and we can add the <code>striped</code> argument just like the <code>highlight</code> argument.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  highlight = TRUE,
  striped = TRUE,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240),
    change = colDef(
      format = colFormat(digits = 2),
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, 
             color = color)
      }
    ),
    percent_change = colDef(
      format = colFormat(digits = 2),
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    symbol = colDef(
      style = list(color = &quot;#8470FF&quot;, fontWeight = &quot;bold&quot;)
    ),
    last_price = colDef(
      format = colFormat(digits = 2),
      style = list(color = &quot;black&quot;, fontWeight = &quot;bold&quot;)
    )
  )
)</code></pre>
<div id="htmlwidget-e8dcfdb2ab770a0dec23" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e8dcfdb2ab770a0dec23">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"#8470FF","fontWeight":"bold"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"black","fontWeight":"bold"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"striped":true,"dataKey":"3e472fbb7e01a26d6eac75fc93b0ca55","key":"3e472fbb7e01a26d6eac75fc93b0ca55"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>Now we have a striped, highlighted table!</p>
</div>
</div>
<div id="add-filtering" class="section level2 tabset" number="5.7">
<h2 class="tabset" number="5.7"><span class="header-section-number">5.7</span> Add filtering</h2>
<p>We also want to make navigating the table a little easier by adding filtering.</p>
<div id="filtering" class="section level3" number="5.7.1">
<h3 number="5.7.1"><span class="header-section-number">5.7.1</span> filtering</h3>
<p>This is added with the <code>filterable = TRUE</code> argument.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  highlight = TRUE,
  striped = TRUE,
  filterable = TRUE,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240),
    change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    percent_change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    symbol = colDef(
      style = list(color = &quot;#8470FF&quot;, fontWeight = &quot;bold&quot;)
    ),
    last_price = colDef(
      style = list(color = &quot;black&quot;, fontWeight = &quot;bold&quot;)
    )
  )
)</code></pre>
<div id="htmlwidget-811be86ee17314b0a35c" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-811be86ee17314b0a35c">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"#8470FF","fontWeight":"bold"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"black","fontWeight":"bold"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]}],"filterable":true,"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"striped":true,"dataKey":"3e472fbb7e01a26d6eac75fc93b0ca55","key":"3e472fbb7e01a26d6eac75fc93b0ca55"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="selective-filtering" class="section level3" number="5.7.2">
<h3 number="5.7.2"><span class="header-section-number">5.7.2</span> selective filtering</h3>
<p>We might not want <em>all</em> of the columns filterable, so we can define the feature by column in <code>colDef()</code> too.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  highlight = TRUE,
  striped = TRUE,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240, 
                          filterable = TRUE),
    change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    percent_change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    symbol = colDef(
      style = list(color = &quot;#8470FF&quot;, fontWeight = &quot;bold&quot;),
      filterable = TRUE
    ),
    last_price = colDef(
      style = list(color = &quot;black&quot;, fontWeight = &quot;bold&quot;)
    )
  )
)</code></pre>
<div id="htmlwidget-5d42e1d22344c77ae661" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5d42e1d22344c77ae661">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"filterable":true,"style":{"color":"#8470FF","fontWeight":"bold"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"filterable":true,"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"black","fontWeight":"bold"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"striped":true,"dataKey":"921baaa5a0d8d7392f132cd367f673ff","key":"921baaa5a0d8d7392f132cd367f673ff"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>Now this table is more interactive and easier to narrow down.</p>
</div>
</div>
<div id="add-searching" class="section level2 tabset" number="5.8">
<h2 class="tabset" number="5.8"><span class="header-section-number">5.8</span> Add searching</h2>
<p>The last feature we’ll add to this table is searching. This makes the entire table <code>searchable</code>.</p>
<div id="searchable" class="section level3" number="5.8.1">
<h3 number="5.8.1"><span class="header-section-number">5.8.1</span> <code>searchable</code></h3>
<p>We can make the entire table searchable by adding <code>searchable = TRUE</code> before the column definition functions.</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  highlight = TRUE,
  striped = TRUE,
  searchable = TRUE,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240, 
                          filterable = TRUE),
    change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    percent_change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    symbol = colDef(
      style = list(color = &quot;#8470FF&quot;, fontWeight = &quot;bold&quot;),
      filterable = TRUE
    ),
    last_price = colDef(
      style = list(color = &quot;black&quot;, fontWeight = &quot;bold&quot;)
    )
  )
)</code></pre>
<div id="htmlwidget-ddbf1dcf06118e9f6bdc" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ddbf1dcf06118e9f6bdc">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"filterable":true,"style":{"color":"#8470FF","fontWeight":"bold"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"filterable":true,"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"black","fontWeight":"bold"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]}],"searchable":true,"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"striped":true,"dataKey":"921baaa5a0d8d7392f132cd367f673ff","key":"921baaa5a0d8d7392f132cd367f673ff"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="minrows" class="section level3" number="5.8.2">
<h3 number="5.8.2"><span class="header-section-number">5.8.2</span> <code>minRows</code></h3>
<p>The <code>searchable</code> argument works well when combined with the <code>minRows</code> argument (especially for large tables).</p>
<pre class="r"><code>reactable(
  data = TopBottomBioTechChange,
  highlight = TRUE,
  striped = TRUE,
  searchable = TRUE,
  minRows = 5,
  defaultColDef = colDef(
    header = function(value) {
      hdr &lt;- str_replace_all(value, &quot;_&quot;, &quot; &quot;)
      str_to_title(hdr)
    },
    headerStyle = list(
      fontWeight = 500,
      fontSize = &quot;13px&quot;,
      letterSpacing = &quot;1px&quot;
    ),
    format = colFormat(digits = 2)
  ),
  columns = list(
    company_name = colDef(minWidth = 240, 
                          filterable = TRUE),
    change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    percent_change = colDef(
      cell = function(value) {
        if (value &gt;= 0) {
          paste0(&quot;+&quot;, value)
        } else {
          value
        }
      },
      style = function(value) {
        color &lt;- if (value &gt; 0) {
          &quot;#008B00&quot;
        } else if (value &lt; 0) {
          &quot;#FF3030&quot;
        }
        list(fontWeight = 600, color = color)
      }
    ),
    symbol = colDef(
      style = list(color = &quot;#8470FF&quot;, fontWeight = &quot;bold&quot;),
      filterable = TRUE
    ),
    last_price = colDef(
      style = list(color = &quot;black&quot;, fontWeight = &quot;bold&quot;)
    )
  )
)</code></pre>
<div id="htmlwidget-57f6d1df66f29fff9923" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-57f6d1df66f29fff9923">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"symbol":["LLY","RPRX","ZTS","MRK","JNJ","BIIB","TAK","GLAXF","BNTX","MRNA"],"company_name":["Eli Lilly and Company","Royalty Pharma plc","Zoetis Inc.","Merck & Co., Inc.","Johnson & Johnson","Biogen Inc.","Takeda Pharmaceutical Company Limited","GlaxoSmithKline plc","BioNTech SE","Moderna, Inc."],"last_price":[166.66,48.9,160.72,80.14,152.47,248.89,18.11,17.79,96.96,123.39],"change":[1.18,0.29,0.87,0.38,0.53,-2.31,-0.17,-0.46,-3.1,-6.95],"percent_change":[0.71,0.6,0.54,0.48,0.35,-0.92,-0.93,-2.52,-3.1,-5.33]},"columns":[{"accessor":"symbol","name":"symbol","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Symbol","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"filterable":true,"style":{"color":"#8470FF","fontWeight":"bold"}},{"accessor":"company_name","name":"company_name","type":"character","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Company Name","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"filterable":true,"minWidth":240},{"accessor":"last_price","name":"last_price","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Last Price","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"style":{"color":"black","fontWeight":"bold"}},{"accessor":"change","name":"change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+1.18","+0.29","+0.87","+0.38","+0.53","-2.31","-0.17","-0.46","-3.1","-6.95"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]},{"accessor":"percent_change","name":"percent_change","type":"numeric","format":{"cell":{"digits":2},"aggregated":{"digits":2}},"header":"Percent Change","headerStyle":{"fontWeight":500,"fontSize":"13px","letterSpacing":"1px"},"cell":["+0.71","+0.6","+0.54","+0.48","+0.35","-0.92","-0.93","-2.52","-3.1","-5.33"],"style":[{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#008B00"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"},{"fontWeight":600,"color":"#FF3030"}]}],"searchable":true,"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":5,"highlight":true,"striped":true,"dataKey":"921baaa5a0d8d7392f132cd367f673ff","key":"921baaa5a0d8d7392f132cd367f673ff"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>

<i class="fab fa-creative-commons fa-2x"></i><i class="fab fa-creative-commons-by fa-2x"></i><i class="fab fa-creative-commons-sa fa-2x"></i>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4,h5",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
