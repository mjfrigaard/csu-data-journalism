<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Getting Started With R Markdown</title>

<script src="site_libs/header-attrs-2.6/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="site_libs/jsoneditor-5.25.6/jsoneditor.min.css" rel="stylesheet" />
<script src="site_libs/jsoneditor-5.25.6/jsoneditor.min.js"></script>
<script src="site_libs/jsonedit-binding-3.0.0/jsonedit.js"></script>
<script src="site_libs/viz-1.8.2/viz.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="site_libs/grViz-binding-1.0.6.1/grViz.js"></script>
<script src="site_libs/plotly-binding-4.9.2.2/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.52.2/plotly-latest.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">bmRn R Training</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Lessons and exercises</a>
</li>
<li>
  <a href="slides.html">Slides</a>
</li>
<li>
  <a href="more-resources.html">More resources</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">About</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Getting Started With R Markdown</h1>

</div>


<div id="objectives" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Objectives</h1>
<p>This section provides some exercises to improve your understanding of R Markdown. Please see the <a href="https://mjfrigaard.github.io/rep-res-rmarkdown/Index.html">accompanying slides</a> for more information.</p>
<div id="create-a-new-r-markdown-file" class="section level2 tabset" number="1.1">
<h2 class="tabset" number="1.1"><span class="header-section-number">1.1</span> Create a new R Markdown file</h2>
<p>We will start by creating a new R Markdown file, and set it to create an HTML document. <strong>When you save your new .Rmd file, be sure to delete all the text beneath the YAML header in your new .Rmd document</strong></p>
<div id="new-file-icon" class="section level3" number="1.1.1">
<h3 number="1.1.1"><span class="header-section-number">1.1.1</span> New File icon</h3>
<p>We can create a new R Markdown file using the <em>New File</em> icon</p>
<p><img src="img/new-rmarkdown.png" width="20%" height="20%" style="display: block; margin: auto;" /></p>
</div>
<div id="file-tab" class="section level3" number="1.1.2">
<h3 number="1.1.2"><span class="header-section-number">1.1.2</span> File tab</h3>
<p>We can also create a new R Markdown file in RStudio using <em>File</em> &gt; <em>New File</em> &gt; <em>R Markdown…</em></p>
<p><img src="img/new-rmarkdown-02.png" width="45%" height="45%" style="display: block; margin: auto;" /></p>
</div>
<div id="save-your-.rmd-file" class="section level3" number="1.1.3">
<h3 number="1.1.3"><span class="header-section-number">1.1.3</span> Save your .Rmd file</h3>
<p>We will need to save our <code>.Rmd</code> file before we can knit it, so we’ll save it in the same directory as this <code>rmarkdown-solutions.html</code> file.</p>
<p><img src="img/save-rmd-file-02.png" width="65%" height="65%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="rmarkdown-yaml" class="section level2 tabset" number="1.2">
<h2 class="tabset" number="1.2"><span class="header-section-number">1.2</span> RMarkdown: YAML</h2>
<p>While R Markdown allows us to create a variety of documents formats, the output with the most features is HTML. HTML documents function essentially like a web page, and allow for interactive navigation and displays. This document was written in R Markdown, and we’ll be creating a similar report to keep as a reference.</p>
<div id="standard-yaml-header" class="section level3" number="1.2.1">
<h3 number="1.2.1"><span class="header-section-number">1.2.1</span> Standard YAML Header</h3>
<p>Our new <code>.Rmd</code> file should have the following information. <em>Note that indentation and case matters in YAML formatting, so we need to pay extra attention to alignments and spelling.</em></p>
<pre class="yaml"><code>---
title: &quot;Untitled&quot;
author: &quot;Martin Frigaard&quot;
date: &quot;10/24/2020&quot;
output: html_document
---</code></pre>
</div>
<div id="table-of-contents-toc" class="section level3" number="1.2.2">
<h3 number="1.2.2"><span class="header-section-number">1.2.2</span> Table of Contents (TOC)</h3>
<p>Having an interactive table of contents makes it easier for readers to navigate your report. We can add a floating table of contents to our new report to the following YAML settings:</p>
<pre class="yaml"><code>output: 
  html_document: 
    toc: yes
    toc_float: true</code></pre>
<p><em>Knit</em> the document again and extend the view to see the floating table of contents.</p>
</div>
<div id="highlight-themes" class="section level3" number="1.2.3">
<h3 number="1.2.3"><span class="header-section-number">1.2.3</span> Highlight &amp; Themes</h3>
<p>Highlighting and themes give us some control over the aesthetics in our reports. We can add a new theme and text highlighting to the report with the following YAML options.</p>
<pre class="yaml"><code>output: 
  html_document: 
    toc: yes
    toc_float: yes
    highlight: spacelab
    theme: espresso</code></pre>
<p><em>Knit</em> the document again and extend the view to see the new theme of text highlighting.</p>
</div>
<div id="parameters" class="section level3" number="1.2.4">
<h3 number="1.2.4"><span class="header-section-number">1.2.4</span> Parameters</h3>
<p>YAML parameters give us the ability to add variables we can later refer to in our document. We will add some parameters to our report to see how these can be used. Add the following code to the YAML header (at the bottom):</p>
<pre class="yaml"><code>params: 
  data_dir: !r file.path(&quot;data/starwars.rds&quot;)
  list_vars: !r c(&quot;films&quot;, &quot;vehicles&quot;, &quot;starships&quot;)</code></pre>
<p>These parameters will give us global control over the data we will be importing (even if that file changes in the future).</p>
</div>
</div>
<div id="importing-and-viewing-data" class="section level2 tabset" number="1.3">
<h2 class="tabset" number="1.3"><span class="header-section-number">1.3</span> Importing and Viewing Data</h2>
<p>It’s hard to do any analyses without data! We will load a toy dataset from the <a href="https://swapi.dev/">Star Wars API</a>. Add the code below to your .Rmd file to import the <code>StarWars</code> data. We will also name the code chunk <code>StarWars</code>, because it’s the object this <a href="https://twitter.com/drob/status/738786604731490304">code creates</a>.</p>
<pre class="md"><code>```{r StarWars}
StarWars &lt;- readr::read_rds(file = params$data_dir)
```</code></pre>
<p>Note that we’ve loaded these data using the parameters we’ve defined above.</p>
<div id="help-files" class="section level3" number="1.3.1">
<h3 number="1.3.1"><span class="header-section-number">1.3.1</span> Help files</h3>
<p>Details about the variables in the <code>StarWars</code> dataset are accessible in RStudio’s help files, which we can access using <code>??starwars</code></p>
<pre class="md"><code>```{r StarWars-help}
??starwars
```</code></pre>
<p>When we read the help file, we find there are three variables that are lists: <code>films</code>, <code>vehicles</code>, and <code>starships</code>. We have list-columns because the Star Wars API exports data as a JSON file, which is not tabular (like a spreadsheet).</p>
</div>
<div id="dplyrglimpse" class="section level3" number="1.3.2">
<h3 number="1.3.2"><span class="header-section-number">1.3.2</span> <code>dplyr::glimpse()</code></h3>
<p>We can see a basic transposed display of the <code>StarWars</code> data with <code>dplyr</code>’s <code>glimpse()</code> function.</p>
<pre class="r"><code>dplyr::glimpse(StarWars)</code></pre>
<pre><code>## Rows: 87
## Columns: 14
## $ name       &lt;chr&gt; &quot;Luke Skywalker&quot;, &quot;C-3PO&quot;, &quot;R2-D2&quot;, &quot;Darth Vader&quot;, &quot;Leia O…
## $ height     &lt;int&gt; 172, 167, 96, 202, 150, 178, 165, 97, 183, 182, 188, 180, …
## $ mass       &lt;dbl&gt; 77.0, 75.0, 32.0, 136.0, 49.0, 120.0, 75.0, 32.0, 84.0, 77…
## $ hair_color &lt;chr&gt; &quot;blond&quot;, NA, NA, &quot;none&quot;, &quot;brown&quot;, &quot;brown, grey&quot;, &quot;brown&quot;, …
## $ skin_color &lt;chr&gt; &quot;fair&quot;, &quot;gold&quot;, &quot;white, blue&quot;, &quot;white&quot;, &quot;light&quot;, &quot;light&quot;, …
## $ eye_color  &lt;chr&gt; &quot;blue&quot;, &quot;yellow&quot;, &quot;red&quot;, &quot;yellow&quot;, &quot;brown&quot;, &quot;blue&quot;, &quot;blue&quot;…
## $ birth_year &lt;dbl&gt; 19.0, 112.0, 33.0, 41.9, 19.0, 52.0, 47.0, NA, 24.0, 57.0,…
## $ sex        &lt;chr&gt; &quot;male&quot;, &quot;none&quot;, &quot;none&quot;, &quot;male&quot;, &quot;female&quot;, &quot;male&quot;, &quot;female&quot;…
## $ gender     &lt;chr&gt; &quot;masculine&quot;, &quot;masculine&quot;, &quot;masculine&quot;, &quot;masculine&quot;, &quot;femin…
## $ homeworld  &lt;chr&gt; &quot;Tatooine&quot;, &quot;Tatooine&quot;, &quot;Naboo&quot;, &quot;Tatooine&quot;, &quot;Alderaan&quot;, &quot;…
## $ species    &lt;chr&gt; &quot;Human&quot;, &quot;Droid&quot;, &quot;Droid&quot;, &quot;Human&quot;, &quot;Human&quot;, &quot;Human&quot;, &quot;Hum…
## $ films      &lt;list&gt; [&lt;&quot;The Empire Strikes Back&quot;, &quot;Revenge of the Sith&quot;, &quot;Retu…
## $ vehicles   &lt;list&gt; [&lt;&quot;Snowspeeder&quot;, &quot;Imperial Speeder Bike&quot;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &quot;I…
## $ starships  &lt;list&gt; [&lt;&quot;X-wing&quot;, &quot;Imperial shuttle&quot;&gt;, &lt;&gt;, &lt;&gt;, &quot;TIE Advanced x1…</code></pre>
<p><code>glimpse()</code> shows us the format and first few values of each variable in <code>StarWars</code>.</p>
</div>
<div id="skimrskim" class="section level3" number="1.3.3">
<h3 number="1.3.3"><span class="header-section-number">1.3.3</span> <code>skimr::skim()</code></h3>
<p>Below is a <code>skimr::skim()</code> view of the <code>StarWars</code> data. We can see each variable broken down by type, along with some summary information.</p>
<pre class="r"><code>skimr::skim(StarWars)</code></pre>
<table>
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">StarWars</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">87</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">14</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">8</td>
</tr>
<tr class="odd">
<td align="left">list</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">3</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">21</td>
<td align="right">0</td>
<td align="right">87</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">hair_color</td>
<td align="right">5</td>
<td align="right">0.94</td>
<td align="right">4</td>
<td align="right">13</td>
<td align="right">0</td>
<td align="right">12</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">skin_color</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">31</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">eye_color</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">13</td>
<td align="right">0</td>
<td align="right">15</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">sex</td>
<td align="right">4</td>
<td align="right">0.95</td>
<td align="right">4</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">gender</td>
<td align="right">4</td>
<td align="right">0.95</td>
<td align="right">8</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">homeworld</td>
<td align="right">10</td>
<td align="right">0.89</td>
<td align="right">4</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">48</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">species</td>
<td align="right">4</td>
<td align="right">0.95</td>
<td align="right">3</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">37</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: list</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">n_unique</th>
<th align="right">min_length</th>
<th align="right">max_length</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">films</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">24</td>
<td align="right">1</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">vehicles</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">starships</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">17</td>
<td align="right">0</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">height</td>
<td align="right">6</td>
<td align="right">0.93</td>
<td align="right">174.36</td>
<td align="right">34.77</td>
<td align="right">66</td>
<td align="right">167.0</td>
<td align="right">180</td>
<td align="right">191.0</td>
<td align="right">264</td>
<td align="left">▁▁▇▅▁</td>
</tr>
<tr class="even">
<td align="left">mass</td>
<td align="right">28</td>
<td align="right">0.68</td>
<td align="right">97.31</td>
<td align="right">169.46</td>
<td align="right">15</td>
<td align="right">55.6</td>
<td align="right">79</td>
<td align="right">84.5</td>
<td align="right">1358</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">birth_year</td>
<td align="right">44</td>
<td align="right">0.49</td>
<td align="right">87.57</td>
<td align="right">154.69</td>
<td align="right">8</td>
<td align="right">35.0</td>
<td align="right">52</td>
<td align="right">72.0</td>
<td align="right">896</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
<p>The <code>skimr</code> package is great for looking at large data summaries. Read more <a href="https://docs.ropensci.org/skimr/">here</a>.</p>
</div>
<div id="listviewerjsonedit" class="section level3" number="1.3.4">
<h3 number="1.3.4"><span class="header-section-number">1.3.4</span> <code>listviewer::jsonedit()</code></h3>
<p>If you have JSON or lists (non-rectangular data) in R, sometimes these objects can be hard to visualize. The <code>jsonedit()</code> function from <code>listviewer</code> makes this easier by giving us an interactive display to click-through.</p>
<pre class="r"><code>library(listviewer)
listviewer::jsonedit(listdata = StarWars, mode = &quot;view&quot;)</code></pre>
<div id="htmlwidget-19c7e1d2cfb99a3aea74" style="width:672px;height:480px;" class="jsonedit html-widget"></div>
<script type="application/json" data-for="htmlwidget-19c7e1d2cfb99a3aea74">{"x":{"data":{"name":["Luke Skywalker","C-3PO","R2-D2","Darth Vader","Leia Organa","Owen Lars","Beru Whitesun lars","R5-D4","Biggs Darklighter","Obi-Wan Kenobi","Anakin Skywalker","Wilhuff Tarkin","Chewbacca","Han Solo","Greedo","Jabba Desilijic Tiure","Wedge Antilles","Jek Tono Porkins","Yoda","Palpatine","Boba Fett","IG-88","Bossk","Lando Calrissian","Lobot","Ackbar","Mon Mothma","Arvel Crynyd","Wicket Systri Warrick","Nien Nunb","Qui-Gon Jinn","Nute Gunray","Finis Valorum","Jar Jar Binks","Roos Tarpals","Rugor Nass","Ric Olié","Watto","Sebulba","Quarsh Panaka","Shmi Skywalker","Darth Maul","Bib Fortuna","Ayla Secura","Dud Bolt","Gasgano","Ben Quadinaros","Mace Windu","Ki-Adi-Mundi","Kit Fisto","Eeth Koth","Adi Gallia","Saesee Tiin","Yarael Poof","Plo Koon","Mas Amedda","Gregar Typho","Cordé","Cliegg Lars","Poggle the Lesser","Luminara Unduli","Barriss Offee","Dormé","Dooku","Bail Prestor Organa","Jango Fett","Zam Wesell","Dexter Jettster","Lama Su","Taun We","Jocasta Nu","Ratts Tyerell","R4-P17","Wat Tambor","San Hill","Shaak Ti","Grievous","Tarfful","Raymus Antilles","Sly Moore","Tion Medon","Finn","Rey","Poe Dameron","BB8","Captain Phasma","Padmé Amidala"],"height":[172,167,96,202,150,178,165,97,183,182,188,180,228,180,173,175,170,180,66,170,183,200,190,177,175,180,150,null,88,160,193,191,170,196,224,206,183,137,112,183,163,175,180,178,94,122,163,188,198,196,171,184,188,264,188,196,185,157,183,183,170,166,165,193,191,183,168,198,229,213,167,79,96,193,191,178,216,234,188,178,206,null,null,null,null,null,165],"mass":[77,75,32,136,49,120,75,32,84,77,84,null,112,80,74,1358,77,110,17,75,78.2,140,113,79,79,83,null,null,20,68,89,90,null,66,82,null,null,null,40,null,null,80,null,55,45,null,65,84,82,87,null,50,null,null,80,null,85,null,null,80,56.2,50,null,80,null,79,55,102,88,null,null,15,null,48,null,57,159,136,79,48,80,null,null,null,null,null,45],"hair_color":["blond",null,null,"none","brown","brown, grey","brown",null,"black","auburn, white","blond","auburn, grey","brown","brown",null,null,"brown","brown","white","grey","black","none","none","black","none","none","auburn","brown","brown","none","brown","none","blond","none","none","none","brown","black","none","black","black","none","none","none","none","none","none","none","white","none","black","none","none","none","none","none","black","brown","brown","none","black","black","brown","white","black","black","blonde","none","none","none","white","none","none","none","none","none","none","brown","brown","none","none","black","brown","brown","none","unknown","brown"],"skin_color":["fair","gold","white, blue","white","light","light","light","white, red","light","fair","fair","fair","unknown","fair","green","green-tan, brown","fair","fair","green","pale","fair","metal","green","dark","light","brown mottle","fair","fair","brown","grey","fair","mottled green","fair","orange","grey","green","fair","blue, grey","grey, red","dark","fair","red","pale","blue","blue, grey","white, blue","grey, green, yellow","dark","pale","green","brown","dark","pale","white","orange","blue","dark","light","fair","green","yellow","yellow","light","fair","tan","tan","fair, green, yellow","brown","grey","grey","fair","grey, blue","silver, red","green, grey","grey","red, blue, white","brown, white","brown","light","pale","grey","dark","light","light","none","unknown","light"],"eye_color":["blue","yellow","red","yellow","brown","blue","blue","red","brown","blue-gray","blue","blue","blue","brown","black","orange","hazel","blue","brown","yellow","brown","red","red","brown","blue","orange","blue","brown","brown","black","blue","red","blue","orange","orange","orange","blue","yellow","orange","brown","brown","yellow","pink","hazel","yellow","black","orange","brown","yellow","black","brown","blue","orange","yellow","black","blue","brown","brown","blue","yellow","blue","blue","brown","brown","brown","brown","yellow","yellow","black","black","blue","unknown","red, blue","unknown","gold","black","green, yellow","blue","brown","white","black","dark","hazel","brown","black","unknown","brown"],"birth_year":[19,112,33,41.9,19,52,47,null,24,57,41.9,64,200,29,44,600,21,null,896,82,31.5,15,53,31,37,41,48,null,8,null,92,null,91,52,null,null,null,null,null,62,72,54,null,48,null,null,null,72,92,null,null,null,null,null,22,null,null,null,82,null,58,40,null,102,67,66,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,46],"sex":["male","none","none","male","female","male","female","none","male","male","male","male","male","male","male","hermaphroditic","male","male","male","male","male","none","male","male","male","male","female","male","male","male","male","male","male","male","male","male",null,"male","male",null,"female","male","male","female","male","male","male","male","male","male","male","female","male","male","male","male","male","female","male","male","female","female","female","male","male","male","female","male","male","female","female","male","none","male","male","female","male","male","male",null,"male","male","female","male","none",null,"female"],"gender":["masculine","masculine","masculine","masculine","feminine","masculine","feminine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","feminine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","masculine",null,"masculine","masculine",null,"feminine","masculine","masculine","feminine","masculine","masculine","masculine","masculine","masculine","masculine","masculine","feminine","masculine","masculine","masculine","masculine","masculine","feminine","masculine","masculine","feminine","feminine","feminine","masculine","masculine","masculine","feminine","masculine","masculine","feminine","feminine","masculine","feminine","masculine","masculine","feminine","masculine","masculine","masculine",null,"masculine","masculine","feminine","masculine","masculine",null,"feminine"],"homeworld":["Tatooine","Tatooine","Naboo","Tatooine","Alderaan","Tatooine","Tatooine","Tatooine","Tatooine","Stewjon","Tatooine","Eriadu","Kashyyyk","Corellia","Rodia","Nal Hutta","Corellia","Bestine IV",null,"Naboo","Kamino",null,"Trandosha","Socorro","Bespin","Mon Cala","Chandrila",null,"Endor","Sullust",null,"Cato Neimoidia","Coruscant","Naboo","Naboo","Naboo","Naboo","Toydaria","Malastare","Naboo","Tatooine","Dathomir","Ryloth","Ryloth","Vulpter","Troiken","Tund","Haruun Kal","Cerea","Glee Anselm","Iridonia","Coruscant","Iktotch","Quermia","Dorin","Champala","Naboo","Naboo","Tatooine","Geonosis","Mirial","Mirial","Naboo","Serenno","Alderaan","Concord Dawn","Zolan","Ojom","Kamino","Kamino","Coruscant","Aleen Minor",null,"Skako","Muunilinst","Shili","Kalee","Kashyyyk","Alderaan","Umbara","Utapau",null,null,null,null,null,"Naboo"],"species":["Human","Droid","Droid","Human","Human","Human","Human","Droid","Human","Human","Human","Human","Wookiee","Human","Rodian","Hutt","Human","Human","Yoda's species","Human","Human","Droid","Trandoshan","Human","Human","Mon Calamari","Human","Human","Ewok","Sullustan","Human","Neimodian","Human","Gungan","Gungan","Gungan",null,"Toydarian","Dug",null,"Human","Zabrak","Twi'lek","Twi'lek","Vulptereen","Xexto","Toong","Human","Cerean","Nautolan","Zabrak","Tholothian","Iktotchi","Quermian","Kel Dor","Chagrian","Human","Human","Human","Geonosian","Mirialan","Mirialan","Human","Human","Human","Human","Clawdite","Besalisk","Kaminoan","Kaminoan","Human","Aleena","Droid","Skakoan","Muun","Togruta","Kaleesh","Wookiee","Human",null,"Pau'an","Human","Human","Human","Droid",null,"Human"],"films":[["The Empire Strikes Back","Revenge of the Sith","Return of the Jedi","A New Hope","The Force Awakens"],["The Empire Strikes Back","Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi","A New Hope"],["The Empire Strikes Back","Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi","A New Hope","The Force Awakens"],["The Empire Strikes Back","Revenge of the Sith","Return of the Jedi","A New Hope"],["The Empire Strikes Back","Revenge of the Sith","Return of the Jedi","A New Hope","The Force Awakens"],["Attack of the Clones","Revenge of the Sith","A New Hope"],["Attack of the Clones","Revenge of the Sith","A New Hope"],"A New Hope","A New Hope",["The Empire Strikes Back","Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi","A New Hope"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["Revenge of the Sith","A New Hope"],["The Empire Strikes Back","Revenge of the Sith","Return of the Jedi","A New Hope","The Force Awakens"],["The Empire Strikes Back","Return of the Jedi","A New Hope","The Force Awakens"],"A New Hope",["The Phantom Menace","Return of the Jedi","A New Hope"],["The Empire Strikes Back","Return of the Jedi","A New Hope"],"A New Hope",["The Empire Strikes Back","Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi"],["The Empire Strikes Back","Attack of the Clones","The Phantom Menace","Revenge of the Sith","Return of the Jedi"],["The Empire Strikes Back","Attack of the Clones","Return of the Jedi"],"The Empire Strikes Back","The Empire Strikes Back",["The Empire Strikes Back","Return of the Jedi"],"The Empire Strikes Back",["Return of the Jedi","The Force Awakens"],"Return of the Jedi","Return of the Jedi","Return of the Jedi","Return of the Jedi","The Phantom Menace",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],"The Phantom Menace",["Attack of the Clones","The Phantom Menace"],"The Phantom Menace","The Phantom Menace","The Phantom Menace",["Attack of the Clones","The Phantom Menace"],"The Phantom Menace","The Phantom Menace",["Attack of the Clones","The Phantom Menace"],"The Phantom Menace","Return of the Jedi",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],"The Phantom Menace","The Phantom Menace","The Phantom Menace",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["The Phantom Menace","Revenge of the Sith"],["The Phantom Menace","Revenge of the Sith"],["The Phantom Menace","Revenge of the Sith"],"The Phantom Menace",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"],["Attack of the Clones","The Phantom Menace"],"Attack of the Clones","Attack of the Clones","Attack of the Clones",["Attack of the Clones","Revenge of the Sith"],["Attack of the Clones","Revenge of the Sith"],"Attack of the Clones","Attack of the Clones",["Attack of the Clones","Revenge of the Sith"],["Attack of the Clones","Revenge of the Sith"],"Attack of the Clones","Attack of the Clones","Attack of the Clones","Attack of the Clones","Attack of the Clones","Attack of the Clones","The Phantom Menace",["Attack of the Clones","Revenge of the Sith"],"Attack of the Clones","Attack of the Clones",["Attack of the Clones","Revenge of the Sith"],"Revenge of the Sith","Revenge of the Sith",["Revenge of the Sith","A New Hope"],["Attack of the Clones","Revenge of the Sith"],"Revenge of the Sith","The Force Awakens","The Force Awakens","The Force Awakens","The Force Awakens","The Force Awakens",["Attack of the Clones","The Phantom Menace","Revenge of the Sith"]],"vehicles":[["Snowspeeder","Imperial Speeder Bike"],[],[],[],"Imperial Speeder Bike",[],[],[],[],"Tribubble bongo",["Zephyr-G swoop bike","XJ-6 airspeeder"],[],"AT-ST",[],[],[],"Snowspeeder",[],[],[],[],[],[],[],[],[],[],[],[],[],"Tribubble bongo",[],[],[],[],[],[],[],[],[],[],"Sith speeder",[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],"Flitknot speeder",[],[],"Koro-2 Exodrive airspeeder",[],[],[],[],[],[],[],[],[],"Tsmeu-6 personal wheel bike",[],[],[],[],[],[],[],[],[],[]],"starships":[["X-wing","Imperial shuttle"],[],[],"TIE Advanced x1",[],[],[],[],"X-wing",["Jedi starfighter","Trade Federation cruiser","Naboo star skiff","Jedi Interceptor","Belbullab-22 starfighter"],["Trade Federation cruiser","Jedi Interceptor","Naboo fighter"],[],["Millennium Falcon","Imperial shuttle"],["Millennium Falcon","Imperial shuttle"],[],[],"X-wing","X-wing",[],[],"Slave 1",[],[],"Millennium Falcon",[],[],[],"A-wing",[],"Millennium Falcon",[],[],[],[],[],[],"Naboo Royal Starship",[],[],[],[],"Scimitar",[],[],[],[],[],[],[],[],[],[],[],[],"Jedi starfighter",[],"Naboo fighter",[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],"Belbullab-22 starfighter",[],[],[],[],[],[],"T-70 X-wing fighter",[],[],["H-type Nubian yacht","Naboo star skiff","Naboo fighter"]]},"options":{"mode":"view","modes":["code","form","text","tree","view"]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="caching-data" class="section level2 tabset" number="1.4">
<h2 class="tabset" number="1.4"><span class="header-section-number">1.4</span> Caching data</h2>
<p>When we are analyzing large datasets that take awhile to load, it might make sense to cache the data when it’s loaded into a code chunk.</p>
<p>We can do this by including <code>cache=TRUE</code> in the previous <code>StarWars</code> code chunk.</p>
<pre class="md"><code>```{r StarWars, cache=TRUE}
StarWars &lt;- readr::read_rds(file = params$data_dir)
```</code></pre>
<p>Re-knit this chunk with the new <code>cache</code> option.</p>
<div id="checking-dataset-size" class="section level3" number="1.4.1">
<h3 number="1.4.1"><span class="header-section-number">1.4.1</span> Checking dataset size</h3>
<p>We can determine the size of our dataset using <code>object.size()</code> from the <code>utils</code> package (which is loaded by default).</p>
<pre class="r"><code>object.size(StarWars)</code></pre>
<pre><code>## 57520 bytes</code></pre>
<p>Another option is using the <code>inspect_mem()</code> function from the <a href="https://alastairrushworth.github.io/inspectdf/"><code>inspectdf</code> package</a>.</p>
<pre class="r"><code>library(inspectdf)
inspectdf::inspect_mem(df1 = StarWars) %&gt;% 
  inspectdf::show_plot(text_labels = TRUE, 
                       col_palette = 1)</code></pre>
<p><img src="mk00_rmarkdown-exercises_files/figure-html/inspect_mem-StarWars-1.png" width="672" /></p>
<p>We can see from the data visualization that the list variables are accounting for most of the memory.</p>
</div>
<div id="caching-data-1" class="section level3" number="1.4.2">
<h3 number="1.4.2"><span class="header-section-number">1.4.2</span> Caching data</h3>
<p>Including the <code>cache=TRUE</code> option stores the <code>StarWars</code> data, so that R holds the data in memory until the <code>StarWars</code> import chunk is changed. Sometimes we will only want to analyze a subset of a dataset, so it makes sense to cache the larger dataset import chunk.</p>
<pre class="md"><code>```{r StarWars, cache=TRUE}
StarWars &lt;- readr::read_rds(file = params$data_dir)
```</code></pre>
<p>With the <code>StarWars</code> data cached, we can remove the list variables from <code>StarWars</code> and create a <code>StarWarsSmall</code> dataset. We saved the names of the list-columns in <code>params$list_vars</code>.</p>
<pre class="md"><code>```{r StarWarsSmall}
StarWarsSmall &lt;- StarWars %&gt;% dplyr::select(-c(params$list_vars))
```</code></pre>
<p>Lets check the size of the new <code>StarWarsSmall</code> data by comparing it to the original <code>StarWars</code> dataset. This code chunk should look like this:</p>
<pre class="md"><code>```{r inspect_mem-StarWars-StarWarsSmall}
inspectdf::inspect_mem(df1 = StarWars, df2 = StarWarsSmall) %&gt;% 
  inspectdf::show_plot(text_labels = TRUE, col_palette = 1)
```</code></pre>
<p><img src="mk00_rmarkdown-exercises_files/figure-html/inspect_mem-StarWars-StarWarsSmall-1.png" width="672" /></p>
</div>
<div id="cache-path" class="section level3" number="1.4.3">
<h3 number="1.4.3"><span class="header-section-number">1.4.3</span> Cache path</h3>
<p>When we cache data, a new folder named <code>your-file-name</code> + <code>_cache</code> is created in the same directory as our R Markdown file. We can see the <code>rmarkdown-exercises_cache/</code> folder contents below:</p>
<pre><code>## data
## ├── 2020-11-24-TopPharmCompRaw.csv
## ├── 2020-12-11-BioTechDrugStocks.csv
## ├── 2020-12-11-BmrmGoogle.rds
## ├── 2020-12-20-BioTechStocks.csv
## ├── 2020-12-24-BioTechStocks.csv
## ├── 2020-12-29-PricesWide.csv
## ├── 2020-12-30-PricesWide.csv
## ├── AppleMobRaw.csv
## ├── FasterCures.csv
## ├── Infected.csv
## ├── LabData.csv
## ├── LabProc.csv
## ├── SmallLabData.csv
## ├── TopPharmComp.csv
## ├── UsadaBadDates.csv
## ├── UsadaRaw.csv
## ├── VisitNAData.csv
## ├── original-starwars.csv
## └── starwars.rds</code></pre>
<p>We can change the location of the data <code>cache</code> by specifying <code>cache.path</code> either in the code chunk, or in the <code>setup</code> chunk.</p>
<pre class="md"><code>```{r StarWars, cache=TRUE, cache.path=&#39;data/&#39;}
StarWars &lt;- readr::read_rds(file = params$data_dir)
```</code></pre>
<p><strong>Note:</strong> you will need to make sure the <code>cache.path</code> folder exists, which can be solved by adding <code>dir.create()</code> in a code chunk above the <code>StarWars</code> chunk. I like using <a href="https://fs.r-lib.org/reference/create.html"><code>fs::dir_create()</code></a>, because it checks to see if a folder exists, then creates one if it doesn’t.</p>
<p>If we want to add cache options to the <code>setup</code> chunk, it would look like this,</p>
<pre class="md"><code>```{r setup, include=FALSE}
# create data folder
fs::dir_create(path = &quot;data/&quot;)
# set chunk options
knitr::opts_chunk$set(cache = TRUE,
                      cache.path = &quot;data/&quot;)
```</code></pre>
</div>
<div id="dependent-chunks" class="section level3" number="1.4.4">
<h3 number="1.4.4"><span class="header-section-number">1.4.4</span> Dependent chunks</h3>
<p>Data analysis and exploration typically moves along in a (somewhat) linear fashion, which means our code chunks should be run sequentially. Sometimes this isn’t true, and we need some code chunks to depend on other, specific code chunks. In this case, we can use the <code>dependson</code> option in our code chunk.</p>
<p>In the <code>Caching Data</code> tab, we compared <code>StarWars</code> and <code>StarWarsSmall</code> datasets using <code>inspect_mem()</code> in a code chunk named <code>inspect_mem-StarWars-StarWarsSmall</code>. Running this code is only possible <em>after</em> running the code in the <code>StarWars</code> chunk.</p>
<p>We can make the <code>inspect_mem-StarWars-StarWarsSmall</code> dependent on <code>StarWars</code> by adding <code>dependson</code> and the code chunk name.</p>
<pre class="md"><code>```{r inspect_mem-StarWars-StarWarsSmall, dependson = &quot;StarWars&quot;}
inspectdf::inspect_mem(df1 = StarWars, df2 = StarWarsSmall) %&gt;% 
  inspectdf::show_plot(text_labels = TRUE, col_palette = 1)
```</code></pre>
<p>Now the <code>inspect_mem-StarWars-StarWarsSmall</code> will only execute <em>after</em> the <code>StarWarsSmall</code> chunk has been run.</p>
</div>
</div>
<div id="figures" class="section level2 tabset" number="1.5">
<h2 class="tabset" number="1.5"><span class="header-section-number">1.5</span> Figures</h2>
<p>Graphs and figures are great tools for communicating results, and we want to keep track of all the visualizations we create in our report. R Markdown comes with multiple options for controlling the size, location, and quality of images in our reports.</p>
<div id="figure-size" class="section level3" number="1.5.1">
<h3 number="1.5.1"><span class="header-section-number">1.5.1</span> Figure size</h3>
<p>We can adjust the size of our figures with <code>fig.height=</code> or <code>fig.width=</code>. These both take numeric values, and control the dimensions of the figure in inches. We can also control the size with <code>out.width=</code> and <code>out.height=</code>.</p>
<p>Below we visualize the average BMI by <code>species</code> and <code>gender</code> in the Star Wars universe. We also load the <a href="https://cinc.rud.is/web/packages/hrbrthemes/"><code>hrbrthemes</code> package</a> to give us more control over the aesthetics in our plot.</p>
<pre class="md"><code>```{r gg_avg_bmi_spec_gend, fig.height=5.5, fig.width=8, out.width=&#39;100%&#39;, out.height=&#39;100%&#39;}
library(hrbrthemes)
StarWars %&gt;% 
  dplyr::filter(!is.na(mass) &amp; !is.na(height) &amp; !is.na(species)) %&gt;% 
  dplyr::mutate(bmi = mass / ((height / 100)  ^ 2)) %&gt;% 
  dplyr::group_by(species, gender) %&gt;% 
  dplyr::summarize(mean_bmi = mean(bmi, na.rm = TRUE)) %&gt;% 
  dplyr::ungroup() %&gt;%
  dplyr::arrange(desc(mean_bmi)) %&gt;% 
  dplyr::mutate(species = reorder(species, mean_bmi)) %&gt;% 
  ggplot2::ggplot(aes(x = mean_bmi, y = species, 
                      color = as.factor(species), 
                      group = gender)) + 
  ggplot2::geom_point(show.legend = FALSE) + 
  ggplot2::facet_wrap(. ~ gender, scales = &quot;free&quot;) + 
  ggplot2::labs(title = &quot;Average BMI in Star Wars Universe&quot;, 
                subtitle = &quot;Grouped by species and gender&quot;, 
                caption = &quot;source = https://swapi.dev/&quot;, 
                x = &quot;Mean BMI&quot;, y = &quot;Species&quot;) + 
  hrbrthemes::theme_ipsum_rc(axis_text_size = 9, 
                             axis_title_size = 13,
                             strip_text_size = 13) -&gt; gg_avg_bmi_spec_gend
gg_avg_bmi_spec_gend
```</code></pre>
<p><img src="mk00_rmarkdown-exercises_files/figure-html/gg_avg_bmi_spec_gend-1.png" width="768" /></p>
<p>We can see this figure fits the page well because we are able to control the size of the height and width.</p>
</div>
<div id="figure-location" class="section level3" number="1.5.2">
<h3 number="1.5.2"><span class="header-section-number">1.5.2</span> Figure location</h3>
<p>Now that we’ve created a few figures, we can see how these get stored to be used in the final .html file. Much like the default <code>cache</code> settings, when we create graphs in R Markdown, a default folder is created that is <code>your-file-name</code> + <code>_files</code>, and a subfolder <code>figure-html</code> contains the images for the document.</p>
<p>We can see the figure we created above <code>gg_avg_bmi_spec_gend</code> in the <code>figure-html</code> folder below:</p>
<pre><code>## mk00_rmarkdown-exercises_files/figure-html
## └── gg_avg_bmi_spec_gend-1.png</code></pre>
<p>We can also manually specify where we want the figures saved with <code>fig.path=</code>. If we’re setting a folder for the figures, we can do it in the code chunk,</p>
<pre class="md"><code>```{r figure-title, fig.path=&quot;img/&quot;}
# code to create figure...
```</code></pre>
<p>Or in the <code>setup</code> chunk (but we need to make sure the folder exists!)</p>
<pre class="md"><code>```{r setup, include=FALSE}
# create image folder
fs::dir_create(path = &quot;img/&quot;)
knitr::opts_chunk$set(fig.path = &quot;img/&quot;)
```</code></pre>
<p>Most graphs also have options for saving, which we will demonstrate using the <a href="https://krlmlr.github.io/dm/"><code>dm</code></a> and <a href="https://github.com/gadenbuie/starwarsdb"><code>starwarsdb</code></a> packages to show how the Star Wars data are related to one another.</p>
<p>The <code>starwarsdb</code> package comes with a data model function (<code>starwars_dm()</code>), which we will pass to <code>dm_draw()</code> from the <code>dm</code> package. <code>dm</code> stands for ‘data model’, and this package is great for visualizing relational data</p>
<pre class="md"><code>```{r StarWarsDataModel}
library(dm)
library(starwarsdb)
StarWarsDataModel &lt;- dm_draw(dm = starwars_dm(), 
                             graph_name = &quot;StarWarsDataModel&quot;)
StarWarsDataModel
```</code></pre>
<div id="htmlwidget-6f42cb3b8c999ace0533" style="width:672px;height:480px;" class="grViz html-widget"></div>
<script type="application/json" data-for="htmlwidget-6f42cb3b8c999ace0533">{"x":{"diagram":"#data_model\ndigraph {\ngraph [rankdir=LR tooltip=\"StarWarsDataModel\" ]\n\nnode [margin=0 fontcolor = \"#444444\" ]\n\nedge [color = \"#555555\", arrowsize = 1, ]\n\npack=true\npackmode= \"node\"\n\n  \"films\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#818478AA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#C2C7B5FF\" BORDER=\"0\"><FONT COLOR=\"#000000\">films<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F3F0FF\" PORT=\"title\"><U>title<\/U><\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"films_people\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#818478AA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#C2C7B5FF\" BORDER=\"0\"><FONT COLOR=\"#000000\">films_people<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F3F0FF\" PORT=\"title\">title<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F3F0FF\" PORT=\"character\">character<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"films_planets\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#818478AA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#C2C7B5FF\" BORDER=\"0\"><FONT COLOR=\"#000000\">films_planets<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F3F0FF\" PORT=\"title\">title<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F3F0FF\" PORT=\"planet\">planet<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"films_vehicles\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#818478AA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#C2C7B5FF\" BORDER=\"0\"><FONT COLOR=\"#000000\">films_vehicles<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F3F0FF\" PORT=\"title\">title<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F2F3F0FF\" PORT=\"vehicle\">vehicle<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"people\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#496567AA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#6E989BFF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">people<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#E2EAEBFF\" PORT=\"name\"><U>name<\/U><\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#E2EAEBFF\" PORT=\"homeworld\">homeworld<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#E2EAEBFF\" PORT=\"species\">species<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"pilots\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#496567AA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#6E989BFF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">pilots<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#E2EAEBFF\" PORT=\"pilot\">pilot<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#E2EAEBFF\" PORT=\"vehicle\">vehicle<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"planets\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#7D2E0AAA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#BC4610FF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">planets<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F1DACFFF\" PORT=\"name\"><U>name<\/U><\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"species\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#7D563AAA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#BC8258FF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">species<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#F1E6DDFF\" PORT=\"name\"><U>name<\/U><\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"vehicles\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#4B3529AA\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#71503EFF\" BORDER=\"0\"><FONT COLOR=\"#FFFFFF\">vehicles<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#E2DCD8FF\" PORT=\"name\"><U>name<\/U><\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n\"films_people\":\"title\"->\"films\":\"title\"\n\"films_planets\":\"title\"->\"films\":\"title\"\n\"films_vehicles\":\"title\"->\"films\":\"title\"\n\"films_people\":\"character\"->\"people\":\"name\"\n\"pilots\":\"pilot\"->\"people\":\"name\"\n\"films_planets\":\"planet\"->\"planets\":\"name\"\n\"people\":\"homeworld\"->\"planets\":\"name\"\n\"people\":\"species\"->\"species\":\"name\"\n\"films_vehicles\":\"vehicle\"->\"vehicles\":\"name\"\n\"pilots\":\"vehicle\"->\"vehicles\":\"name\"\n}","config":{"engine":null,"options":null}},"evals":[],"jsHooks":[]}</script>
<p>We can see the individual data tables, and which keys link them together.</p>
<p>This graph requires some additional steps to save as a .png, but we can see we’re allowed to specify the file and folder path in the <code>rsvg::rsvg_png()</code> function.</p>
<pre class="r"><code># packages to export 
library(DiagrammeR)
library(DiagrammeRsvg)
library(rsvg)
# export file
StarWarsDataModel %&gt;% 
  DiagrammeRsvg::export_svg() %&gt;% 
  base::charToRaw() %&gt;% 
  rsvg::rsvg_png(height = 1440, 
                 file = &quot;img/StarWarsDataModel.png&quot;)</code></pre>
</div>
<div id="interactive-figures" class="section level3" number="1.5.3">
<h3 number="1.5.3"><span class="header-section-number">1.5.3</span> Interactive figures</h3>
<p>The biggest benefit to using HTML is the ability to create interactive graphs. One example comes from the <a href="https://github.com/ropensci/plotly#readme"><code>plotly</code> package</a>.</p>
<p>We can easily convert a <code>ggplot2</code> graph to <code>plotly</code> using the <code>toWebGL()</code> and <code>ggplotly()</code> functions. We also remove the legend with <code>plotly::hide_legend()</code> so the plot looks identical to the version above.</p>
<pre class="r"><code>library(plotly)
plotly::toWebGL(plotly::ggplotly(gg_avg_bmi_spec_gend)) %&gt;% 
  # remove legend
  plotly::hide_legend()</code></pre>
<div id="htmlwidget-cbd53a683bbffc778e17" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-cbd53a683bbffc778e17">{"x":{"data":[{"x":[12.8862519799189],"y":[1],"text":"mean_bmi:  12.88625<br />species: Skakoan<br />as.factor(species): Skakoan<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Skakoan","legendgroup":"Skakoan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[14.7684310018904],"y":[1],"text":"mean_bmi:  14.76843<br />species: Tholothian<br />as.factor(species): Tholothian<br />gender: feminine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(240,127,75,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(240,127,75,1)"}},"hoveron":"points","name":"Tholothian","legendgroup":"Tholothian","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16.7614080070804],"y":[2],"text":"mean_bmi:  16.76141<br />species: Gungan<br />as.factor(species): Gungan<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(229,135,9,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(229,135,9,1)"}},"hoveron":"points","name":"Gungan","legendgroup":"Gungan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[16.780763143342],"y":[3],"text":"mean_bmi:  16.78076<br />species: Kaminoan<br />as.factor(species): Kaminoan<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(217,143,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(217,143,0,1)"}},"hoveron":"points","name":"Kaminoan","legendgroup":"Kaminoan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[17.3589193283676],"y":[2],"text":"mean_bmi:  17.35892<br />species: Twi'lek<br />as.factor(species): Twi'lek<br />gender: feminine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(203,151,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(203,151,0,1)"}},"hoveron":"points","name":"Twi'lek","legendgroup":"Twi'lek","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[17.9901527584901],"y":[3],"text":"mean_bmi:  17.99015<br />species: Togruta<br />as.factor(species): Togruta<br />gender: feminine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(186,158,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(186,158,0,1)"}},"hoveron":"points","name":"Togruta","legendgroup":"Togruta","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.795617706579],"y":[4],"text":"mean_bmi:  18.79562<br />species: Mirialan<br />as.factor(species): Mirialan<br />gender: feminine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(167,164,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(167,164,0,1)"}},"hoveron":"points","name":"Mirialan","legendgroup":"Mirialan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18.8519181826751],"y":[4],"text":"mean_bmi:  18.85192<br />species: Pau'an<br />as.factor(species): Pau'an<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(144,170,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(144,170,0,1)"}},"hoveron":"points","name":"Pau'an","legendgroup":"Pau'an","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[19.4869614512472],"y":[5],"text":"mean_bmi:  19.48696<br />species: Clawdite<br />as.factor(species): Clawdite<br />gender: feminine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(116,176,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(116,176,0,1)"}},"hoveron":"points","name":"Clawdite","legendgroup":"Clawdite","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20.9162330374452],"y":[5],"text":"mean_bmi:  20.91623<br />species: Cerean<br />as.factor(species): Cerean<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(76,180,0,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(76,180,0,1)"}},"hoveron":"points","name":"Cerean","legendgroup":"Cerean","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[22.6346763241286],"y":[6],"text":"mean_bmi:  22.63468<br />species: Kel Dor<br />as.factor(species): Kel Dor<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,184,37,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,184,37,1)"}},"hoveron":"points","name":"Kel Dor","legendgroup":"Kel Dor","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[22.6468138275718],"y":[7],"text":"mean_bmi:  22.64681<br />species: Nautolan<br />as.factor(species): Nautolan<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,188,83,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,188,83,1)"}},"hoveron":"points","name":"Nautolan","legendgroup":"Nautolan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[23.1912757660325],"y":[8],"text":"mean_bmi:  23.19128<br />species: Wookiee<br />as.factor(species): Wookiee<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,190,114,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,190,114,1)"}},"hoveron":"points","name":"Wookiee","legendgroup":"Wookiee","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[23.8884409806205],"y":[9],"text":"mean_bmi:  23.88844<br />species: Geonosian<br />as.factor(species): Geonosian<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,141,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,192,141,1)"}},"hoveron":"points","name":"Geonosian","legendgroup":"Geonosian","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[21.9516375880012],"y":[6],"text":"mean_bmi:  21.95164<br />species: Human<br />as.factor(species): Human<br />gender: feminine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,193,165,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,193,165,1)"}},"hoveron":"points","name":"Human","legendgroup":"Human","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.0442708485695],"y":[10],"text":"mean_bmi:  26.04427<br />species: Human<br />as.factor(species): Human<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,193,165,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,193,165,1)"}},"hoveron":"points","name":"Human","legendgroup":"Human","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[24.034609838167],"y":[11],"text":"mean_bmi:  24.03461<br />species: Aleena<br />as.factor(species): Aleena<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,186,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,192,186,1)"}},"hoveron":"points","name":"Aleena","legendgroup":"Aleena","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[24.4646016033724],"y":[12],"text":"mean_bmi:  24.46460<br />species: Toong<br />as.factor(species): Toong<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,190,206,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,190,206,1)"}},"hoveron":"points","name":"Toong","legendgroup":"Toong","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[24.6703763602971],"y":[13],"text":"mean_bmi:  24.67038<br />species: Neimodian<br />as.factor(species): Neimodian<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,224,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,186,224,1)"}},"hoveron":"points","name":"Neimodian","legendgroup":"Neimodian","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[24.7251829329413],"y":[14],"text":"mean_bmi:  24.72518<br />species: Rodian<br />as.factor(species): Rodian<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,180,239,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,180,239,1)"}},"hoveron":"points","name":"Rodian","legendgroup":"Rodian","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[25.6172839506173],"y":[15],"text":"mean_bmi:  25.61728<br />species: Mon Calamari<br />as.factor(species): Mon Calamari<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,173,251,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,173,251,1)"}},"hoveron":"points","name":"Mon Calamari","legendgroup":"Mon Calamari","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[25.8264462809917],"y":[16],"text":"mean_bmi:  25.82645<br />species: Ewok<br />as.factor(species): Ewok<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(30,163,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(30,163,255,1)"}},"hoveron":"points","name":"Ewok","legendgroup":"Ewok","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[26.0177532904806],"y":[17],"text":"mean_bmi:  26.01775<br />species: Besalisk<br />as.factor(species): Besalisk<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(116,152,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(116,152,255,1)"}},"hoveron":"points","name":"Besalisk","legendgroup":"Besalisk","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[26.1224489795918],"y":[18],"text":"mean_bmi:  26.12245<br />species: Zabrak<br />as.factor(species): Zabrak<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(160,140,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(160,140,255,1)"}},"hoveron":"points","name":"Zabrak","legendgroup":"Zabrak","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[26.5625],"y":[19],"text":"mean_bmi:  26.56250<br />species: Sullustan<br />as.factor(species): Sullustan<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(192,127,255,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(192,127,255,1)"}},"hoveron":"points","name":"Sullustan","legendgroup":"Sullustan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[31.3019390581717],"y":[20],"text":"mean_bmi:  31.30194<br />species: Trandoshan<br />as.factor(species): Trandoshan<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(216,115,252,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(216,115,252,1)"}},"hoveron":"points","name":"Trandoshan","legendgroup":"Trandoshan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[31.8877551020408],"y":[21],"text":"mean_bmi:  31.88776<br />species: Dug<br />as.factor(species): Dug<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(234,106,240,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(234,106,240,1)"}},"hoveron":"points","name":"Dug","legendgroup":"Dug","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[32.6561339487668],"y":[22],"text":"mean_bmi:  32.65613<br />species: Droid<br />as.factor(species): Droid<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(247,99,225,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(247,99,225,1)"}},"hoveron":"points","name":"Droid","legendgroup":"Droid","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[34.0792181069959],"y":[23],"text":"mean_bmi:  34.07922<br />species: Kaleesh<br />as.factor(species): Kaleesh<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(254,97,206,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(254,97,206,1)"}},"hoveron":"points","name":"Kaleesh","legendgroup":"Kaleesh","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[39.0266299357208],"y":[24],"text":"mean_bmi:  39.02663<br />species: Yoda's species<br />as.factor(species): Yoda's species<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,98,186,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,98,186,1)"}},"hoveron":"points","name":"Yoda's species","legendgroup":"Yoda's species","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[50.9280217292893],"y":[25],"text":"mean_bmi:  50.92802<br />species: Vulptereen<br />as.factor(species): Vulptereen<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,103,163,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,103,163,1)"}},"hoveron":"points","name":"Vulptereen","legendgroup":"Vulptereen","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[443.428571428571],"y":[26],"text":"mean_bmi: 443.42857<br />species: Hutt<br />as.factor(species): Hutt<br />gender: masculine","type":"scattergl","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,108,145,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(255,108,145,1)"}},"hoveron":"points","name":"Hutt","legendgroup":"Hutt","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":112.969696969697,"r":39.8505603985056,"b":88.8335408883354,"l":120.71398920714},"font":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":15.2760481527605},"title":{"text":"<b> Average BMI in Star Wars Universe <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":23.9103362391034},"x":0,"xref":"paper"},"xaxis":{"domain":[0,0.318324141611813],"automargin":true,"type":"linear","autorange":false,"range":[14.4092706725848,22.3107979173068],"tickmode":"array","ticktext":["16","18","20","22"],"tickvals":[16,18,20,22],"categoryorder":"array","categoryarray":["16","18","20","22"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.81901203819012,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Roboto Condensed","size":11.9551681195517},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Mean BMI","x":0.5,"y":-0.0508509755085098,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":17.2685761726858},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis"},{"text":"Species","x":-0.107483840360553,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":17.2685761726858},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis"},{"text":"feminine","x":0.159162070805906,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"Roboto Condensed","size":17.2685761726858},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"masculine","x":0.840837929194094,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"Roboto Condensed","size":17.2685761726858},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,6.6],"tickmode":"array","ticktext":["Tholothian","Twi'lek","Togruta","Mirialan","Clawdite","Human"],"tickvals":[1,2,3,4,5,6],"categoryorder":"array","categoryarray":["Tholothian","Twi'lek","Togruta","Mirialan","Clawdite","Human"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.81901203819012,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Roboto Condensed","size":11.9551681195517},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(204,204,204,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.318324141611813,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.318324141611813,"y0":0,"y1":29.4894146948942,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.681675858388187,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.681675858388187,"x1":1,"y0":0,"y1":29.4894146948942,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-8.6408639925137,464.955687401004],"tickmode":"array","ticktext":["0","100","200","300","400"],"tickvals":[0,100,200,300,400],"categoryorder":"array","categoryarray":["0","100","200","300","400"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.81901203819012,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Roboto Condensed","size":11.9551681195517},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.681675858388187,1],"gridcolor":"rgba(204,204,204,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[0.4,26.6],"tickmode":"array","ticktext":["Skakoan","Gungan","Kaminoan","Pau'an","Cerean","Kel Dor","Nautolan","Wookiee","Geonosian","Human","Aleena","Toong","Neimodian","Rodian","Mon Calamari","Ewok","Besalisk","Zabrak","Sullustan","Trandoshan","Dug","Droid","Kaleesh","Yoda's species","Vulptereen","Hutt"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],"categoryorder":"array","categoryarray":["Skakoan","Gungan","Kaminoan","Pau'an","Cerean","Kel Dor","Nautolan","Wookiee","Geonosian","Human","Aleena","Toong","Neimodian","Rodian","Mon Calamari","Ewok","Besalisk","Zabrak","Sullustan","Trandoshan","Dug","Droid","Kaleesh","Yoda's species","Vulptereen","Hutt"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.81901203819012,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Roboto Condensed","size":11.9551681195517},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,1],"gridcolor":"rgba(204,204,204,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Roboto Condensed","size":12.2208385222084},"y":1},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"476c4ee367b0":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"476c4ee367b0","visdat":{"476c4ee367b0":["function (y) ","x"]},".plotlyWebGl":true,".hideLegend":true,"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>

<i class="fab fa-creative-commons fa-2x"></i><i class="fab fa-creative-commons-by fa-2x"></i><i class="fab fa-creative-commons-sa fa-2x"></i>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4,h5",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
