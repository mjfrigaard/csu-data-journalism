---
title: "Lessons"
---

```{r setup, include = FALSE, warning = FALSE}
library(tidyverse)
library(stringr)
library(htmltools)
tagList(rmarkdown::html_dependency_font_awesome())
```

```{r file-list, include = FALSE, warning = FALSE}
# first this defines three functions (has_all_things, parse_yaml, ext_file,  
# and cat_bullet)
has_all_things <- function(y, things) {
  all(match(tolower(things), tolower(y), nomatch = 0) > 0)
}

parse_yaml <- function(file, n = 30) {
  rmarkdown:::parse_yaml_front_matter(read_lines(file, n_max = n))
}

ext_file <- function(file, ext) {
  paste(file, ext, sep = ".")
}
```

```{r create-basenames_extensions, warning=FALSE, include=FALSE}
basenames_extensions <- tibble(fls = list.files("lessons")) %>%
  mutate(basename = tools::file_path_sans_ext(fls),
         basename = paste0("lessons/", basename),
         ext = tools::file_ext(fls)) %>% 
  group_by(basename) %>% 
  summarize_all(list) %>% 
  filter(map_lgl(ext, has_all_things, things = c("Rmd", "html")))

hrefs_bullets <- basenames_extensions %>% 
  mutate(
    yaml = basename %>% ext_file("Rmd") %>% map(parse_yaml),
    title = yaml %>% map_chr("title"),
    comment = yaml %>% map_chr("comment", .null = ""),
    comment = str_remove_all(string = comment, pattern = "Journalism 303: "),
    # comment = paste0("_*", comment, "*_"),
    comment = tolower(comment),
    href = map2(ext_file(basename, "html"), title, ~ a(href = .x, .y)) %>%
      map_chr(as.character),
    bullet = map2_chr(href, comment, ~ paste("*", .x, .y, "\n")))
# hrefs_bullets
```

```{r cat_bullet, warning=FALSE, include=FALSE}
cat_bullet <- function(x, pattern) {
  x <- hrefs_bullets %>% 
    filter(str_detect(basename, pattern = pattern)) %>%
  unnest(ext) %>%
    filter(ext == "html")
  cat(x$bullet)
}
```


### Week 1 (2021-08-23)

These are intended to get you started with R and RStudio.

```{r wk1-files, results='asis', echo=FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk1-")
```


### Week 2 (2021-08-30)

These exercises will help you understand how to extract pieces of your data in R. 

```{r wk2-files, results='asis', echo=FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk2-")
```

### Week 3 (2021-09-06)

***Labor day, Campus closed***

### Week 4 (2021-09-13)

These lessons cover an introduction to [`ggplot2`](https://ggplot2.tidyverse.org/) for data visualizations, and how to use the R Markdown, a "*notebook interface to weave together narrative text and code to produce elegantly formatted output.*"

```{r wk3-files, results='asis', echo=FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk3-")
```

### Week 5 (2021-09-20)

Data are rarely collected in a way that's fit for analysis or data visualization. In this lesson we introduce [`dplyr`](https://dplyr.tidyverse.org/), a package designed to handle "*most common data manipulation challenges.*"

```{r wk4-files, results = 'asis', echo = FALSE}
cat_bullet(x, "^lessons/wk4-")
```

### Week 6 (2021-09-27)

Now that we've introduced the grammar of `ggplot2`, we can build visualizations that display counts and variable distributions. 

```{r wk5-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk5-")
```

### Week 7 (2021-10-04)

In previous lessons, we used `dplyr` to manipulate data. In this lesson, we'll be using the `tidyr` package to reshape and restructure data. To demonstrate how these packages work together, we're going to scrape (download) a Wikipedia table of [List of largest biotechnology and pharmaceutical companies](https://en.wikipedia.org/wiki/List_of_largest_biotechnology_and_pharmaceutical_companies). 

```{r wk6-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk6-")
```

### Week 8 (2021-10-11)

This lesson covers intermediate data visualization techniques like plotting trends, adding help-text to your graph, labeling values to stand out, and using reference lines for comparisons.

```{r wk7-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk7-")
```

### Week 9 (2021-10-18)

`tidyr` has functions for *generate sequences of data* ([`full_seq()`](https://tidyr.tidyverse.org/reference/full_seq.html)), *creating an output for each combination of any input* ([`expand_grid()`](https://tidyr.tidyverse.org/reference/expand_grid.html)), and *completing missing combinations of data* ([`complete()`](https://tidyr.tidyverse.org/reference/complete.html)). 

```{r wk8-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk8-")
```

### Week 10 (2021-10-25)

This lesson builds on our previous knowledge of `ggplot2` and introduces facets (small multiples) with [`ggplot2::facet_wrap()`](https://ggplot2.tidyverse.org/reference/facet_wrap.html), [`ggforce::facet_wrap_paginate()`](https://ggforce.data-imaginist.com/reference/facet_wrap_paginate.html), and [`geofacet::facet_geo()`](https://hafen.github.io/geofacet/reference/facet_geo.html)

```{r wk9-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk9-")
```

### Week 11 (2021-11-01)

This week we cover our first case study using data from the executed offenders database on the [Texas Department of Criminal Justice website](https://www.tdcj.texas.gov/death_row/dr_executed_offenders.html).

```{r wk10-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk10-")
```

### Week 12 (2021-11-08)

Maps are a great way to give context to any data source. In this lesson, we're going to collect data with the [`rtweet` package](https://github.com/ropensci/rtweet) and use it to build a map with [`ggplot2`](https://ggplot2.tidyverse.org/reference/geom_map.html).

```{r wk11-files, results = 'asis', echo = FALSE, eval=TRUE}
# and the `pr` for programming
cat_bullet(x, "^lessons/wk11-")
```

### Week 13 (2021-11-15)

```{r wk12-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk12-")
```

### Week 14 (2021-11-22)

```{r wk13-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk13-")
```

### Week 15 (2021-11-29)

```{r wk14-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk14-")
```

### Week 16 (2021-12-06)

```{r wk15-files, results = 'asis', echo = FALSE, eval=TRUE}
cat_bullet(x, "^lessons/wk15-")
```




This work is licensed under a [Creative Commons Attribution-ShareAlike 4.0 International License](https://creativecommons.org/licenses/by-sa/4.0/).

